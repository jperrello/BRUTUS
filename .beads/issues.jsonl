{"id":"BRUTUS-030","title":"Architecture Decision: Wails vs Electron vs Tauri","description":"Evaluate and decide on the GUI framework based on interview insights and technical requirements.\n\n## Decision Criteria\n\n1. **Binary Size**: Wails (~4MB) vs Tauri (~2.5MB) vs Electron (~85MB)\n2. **Go Integration**: Wails is native Go, others require bridges\n3. **Ecosystem Maturity**: Electron \u003e Tauri \u003e Wails\n4. **Performance**: Native rendering (Wails/Tauri) vs Chromium (Electron)\n5. **Developer Experience**: Tooling, debugging, hot reload\n\n## Research Done\n\n- Wails: Go backend with auto-generated TS bindings, native rendering\n- Tauri: Rust core, smallest binary, security-focused\n- Electron: Most mature, largest ecosystem, but bloated\n\n## Recommendation\n\n**Wails v2** is the recommended choice because:\n- BRUTUS is Go - no language boundary\n- Single binary distribution\n- Native rendering (no embedded Chromium)\n- Active development with good docs\n\n## Deliverables\n\n1. Prototype hello world in chosen framework\n2. Verify PTY integration works\n3. Document decision rationale\n4. Update manifesto with final choice\n\n## Acceptance Criteria\n\n- [ ] Framework chosen with documented rationale\n- [ ] Hello world prototype running\n- [ ] PTY spawn test successful\n- [ ] Manifesto updated","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T21:09:12.5007498-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:11:24.8189847-08:00","closed_at":"2026-01-15T22:11:24.8189847-08:00","close_reason":"Wails v2 chosen. Prototype built: 11MB GUI binary, 12MB CLI. React+TypeScript frontend working.","dependencies":[{"issue_id":"BRUTUS-030","depends_on_id":"BRUTUS-zvs","type":"blocks","created_at":"2026-01-15T21:09:18.7353129-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-0i9","title":"Context Management: File Browser with Token Tracking","description":"Implement context management UI showing files in context and token usage.\n\nCore Features:\n- File tree showing project structure\n- Checkboxes to add/remove files from context\n- Token count per file and total\n- Context usage bar (45K/200K tokens)\n- Warning when approaching context limit\n\nFile Tree:\n- Expandable directory structure\n- Icons for file types\n- Indicator for files currently in context\n- Quick add/remove via checkbox\n- Drag and drop to reorder priority\n\nToken Tracking:\n- Real-time token count display\n- Per-file breakdown available on hover\n- Visual progress bar for context usage\n- Warning threshold at 80%\n- Alert before compaction happens\n\nSmart Context:\n- Recently edited files highlighted\n- Auto-suggest files based on conversation\n- Save context profiles for different tasks\n- Clear context with one click\n\nAcceptance Criteria:\n- File tree renders project structure\n- Can add/remove files from context\n- Token count updates in real-time\n- Warning shown at 80% context\n- Context state persists across refreshes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:15.6511469-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:09.1753975-08:00","closed_at":"2026-01-17T00:19:09.1753975-08:00","close_reason":"Deferred to backlog. MVP complete without context management UI - can be added in future session.","dependencies":[{"issue_id":"BRUTUS-0i9","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:11:27.7997074-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-0w5","title":"MVP Integration: First Working End-to-End GUI","description":"Integrate all Phase 1 and 2 components into a working MVP.\n\nMVP Definition:\nA user can open BRUTUS GUI, have a conversation with the agent, see streaming output, approve tool executions, and review code changes.\n\nRequired Components:\n1. Terminal integration (BRUTUS-p7p)\n2. Agent connection (BRUTUS-5hq)\n3. Streaming output (BRUTUS-2mp)\n4. Approval workflow (BRUTUS-67q)\n5. Diff visualization (BRUTUS-oed)\n6. Chat panel (BRUTUS-oz6)\n\nIntegration Tasks:\n- Wire all components together\n- Handle edge cases and errors\n- Performance optimization\n- Memory leak prevention\n- Basic error boundaries\n\nQuality Gates:\n- No crashes on normal usage\n- Responsive under load\n- Memory stable over time\n- All core workflows functional\n\nTesting:\n- Manual end-to-end testing\n- Basic smoke tests\n- Performance profiling\n- Memory profiling\n\nAcceptance Criteria:\n- Can complete a real coding task\n- Tool approvals work correctly\n- Diff review functional\n- No memory leaks after 1 hour\n- Binary size under 10MB","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T21:12:21.3194949-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:28:03.0623167-08:00","closed_at":"2026-01-15T22:28:03.0623167-08:00","close_reason":"MVP complete: streaming output, tool approval workflow, diff visualization, chat panel, and agent connection all implemented and integrated. App builds successfully.","dependencies":[{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:12:29.4007118-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-2mp","type":"blocks","created_at":"2026-01-15T21:12:29.5759889-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-67q","type":"blocks","created_at":"2026-01-15T21:12:29.7534344-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-oed","type":"blocks","created_at":"2026-01-15T21:12:29.9371429-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-oz6","type":"blocks","created_at":"2026-01-15T21:12:30.1189259-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-1nt","title":"Frontend Agent interface missing service display fields","description":"**File**: frontend/src/App.tsx lines 7-13, 241-246\n\n**Problem**: Agent interface and AgentPanel header do not display Saturn service info.\n\n**Blocked by**: Backend AgentSession and GUIAgent issues.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:09:08.0157077-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:02:56.5556001-08:00","closed_at":"2026-01-17T00:02:56.5556001-08:00","close_reason":"Added serviceName, serviceHost, connected fields to frontend Agent interface and created Saturn service display with connection indicator in AgentPanel header","dependencies":[{"issue_id":"BRUTUS-1nt","depends_on_id":"BRUTUS-rrf","type":"blocks","created_at":"2026-01-16T23:09:26.9658539-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-1zl","title":"Hide CMD windows in LegacyDiscoverer dns-sd exec calls","description":"**File**: provider/discovery_legacy.go lines 55-58 and 116-119\n\n**Problem**: exec.CommandContext spawns visible CMD windows on Windows when running dns-sd commands.\n\n**Fix**: Add SysProcAttr{HideWindow: true} to both cmd instances. Requires build tag or GOOS check.\n\n**Affects**: discoverSaturnDNSSD (line 55) and resolveInstance (line 116)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-16T23:08:34.712961-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:40:52.9008609-08:00","closed_at":"2026-01-16T23:40:52.9008609-08:00","close_reason":"Closed"}
{"id":"BRUTUS-273","title":"Demo \u0026 Polish - Showcase Saturn","description":"Build demo experiences that showcase Saturn's capabilities.\n\n## Research Files\n- research/opencode-server/SERVER-SUBSYSTEM-SPEC.md - HTTP API patterns\n- research/opencode-pty/PTY-SUBSYSTEM-SPEC.md - Terminal sessions\n- research/opencode-bus/BUS-SUBSYSTEM-SPEC.md - Event system\n\n## Demos to Build\n1. CLI - Simple demo showing Saturn discovery and usage\n2. GUI - Multi-agent visualization (multiple Saturn instances)\n3. Example workflows - Common coding tasks\n\n## Key Insight\nBRUTUS exists to show Saturn is awesome. The demo should highlight:\n- Local inference (no cloud, no API costs)\n- Network discovery (find Saturn automatically)\n- Multi-model support\n- Multi-agent coordination","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-17T22:28:39.8106278-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:28:39.8106278-08:00","dependencies":[{"issue_id":"BRUTUS-273","depends_on_id":"BRUTUS-wuh","type":"blocks","created_at":"2026-01-17T22:28:49.2229892-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-2mp","title":"Streaming Output: Token-by-Token Display with Stop Button","description":"Implement streaming LLM output display with buffered rendering and user interrupt capability.\n\nKey Features:\n- Token-by-token display (10-20x perceived speed improvement)\n- Buffered rendering using RAF to batch updates\n- Stop button that cancels generation\n- Auto-scroll with user scroll detection\n- Syntax highlighting for code blocks\n\nTechnical Approach:\n- Use requestAnimationFrame for batching token writes\n- 50ms throttle for high-frequency updates\n- Detect when user scrolls away, pause auto-scroll\n- Resume auto-scroll when user returns to bottom\n\nReferences:\n- stream-monaco library patterns\n- Chrome best practices for LLM streaming\n- CopilotKit streaming implementation\n\nAcceptance Criteria:\n- First token appears within TTFT\n- Smooth scrolling during output\n- Stop button immediately halts generation\n- Code blocks render with syntax highlighting\n- No jank or dropped frames during fast streaming","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:10:34.8920844-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:27:04.0466345-08:00","closed_at":"2026-01-15T22:27:04.0466345-08:00","close_reason":"Implemented streaming output with token-by-token display. Added ChatStream method to provider, GUIAgent emits agent:stream events, frontend displays streaming content with blinking cursor.","dependencies":[{"issue_id":"BRUTUS-2mp","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:10:49.2883315-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-553","title":"Implement Bash Tool with Permissions","description":"Implement bash tool with permission system.\n\n## Research Files\n- research/opencode-permission/PERMISSION-SUBSYSTEM-SPEC.md\n- research/opencode-permission/WILDCARD-MATCHING-SPEC.md\n- research/opencode-permission/BRUTUS-PERMISSION-IMPLEMENTATION-SPEC.md\n\n## Implementation\nCreate: tools/bash.go, tools/permission.go\n\n## Permission Levels\n1. **Allow** - Command matches allowed patterns\n2. **Deny** - Command matches denied patterns (dangerous)\n3. **Ask** - Prompt user for approval\n\n## Dangerous Patterns (Deny by default)\n```go\nvar dangerousPatterns = []string{\n    \"rm -rf *\",\n    \"rm -rf /\",\n    \"sudo *\",\n    \"\u003e /dev/*\",\n    \"chmod 777 *\",\n}\n```\n\n## Ask for Approval\n```go\nfunc askPermission(command string) (bool, error) {\n    fmt.Printf(\"Allow command: %s? [y/N] \", command)\n    // Read user input\n}\n```","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:31:20.5294229-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:31:20.5294229-08:00","dependencies":[{"issue_id":"BRUTUS-553","depends_on_id":"BRUTUS-adh","type":"blocks","created_at":"2026-01-17T22:31:36.5024821-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-553","depends_on_id":"BRUTUS-9rr","type":"blocks","created_at":"2026-01-17T22:31:40.2038792-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-5h5","title":"Load-aware service selection using CurrentLoad/MaxConcurrent","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:01:56.8264633-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:55:27.573531-08:00","closed_at":"2026-01-16T23:55:27.573531-08:00","close_reason":"Implemented load-aware service selection. Added AvailableCapacity(), LoadFraction(), SelectBestService() and serviceScore(). NewSaturn now selects services based on load, priority, and health status. Added comprehensive tests."}
{"id":"BRUTUS-5hq","title":"BRUTUS Agent Connection: Wire GUI to Agent Loop","description":"Connect the GUI to the existing BRUTUS agent loop, enabling chat interaction.\n\n## Integration Points\n\nThe GUI needs to interface with:\n1. agent/agent.go - The main inference loop\n2. provider/saturn.go - Saturn model discovery\n3. tools/*.go - Tool registry and execution\n\n## Architecture\n\n\\\n## Streaming Pattern\n\nEmit events for each token/chunk:\n\\\n## Message Types\n\n\\{ is a shell keyword\n## Acceptance Criteria\n\n- [ ] Can send message and receive streaming response\n- [ ] Tool calls visible in UI\n- [ ] Cancel button stops generation\n- [ ] Error states handled gracefully\n- [ ] Message history preserved","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:10:15.0947836-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:15:12.3528279-08:00","closed_at":"2026-01-15T22:15:12.3528279-08:00","close_reason":"GUI wired to agent loop. GUIAgent bridge created. Tool calls emit events to frontend. Stop button added.","dependencies":[{"issue_id":"BRUTUS-5hq","depends_on_id":"BRUTUS-p7p","type":"blocks","created_at":"2026-01-15T21:10:21.9875627-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-651","title":"Implement Context Compaction","description":"Implement context compaction for long sessions.\n\n## Research Files\n- research/opencode-compaction/COMPACTION-SUBSYSTEM-SPEC.md - Full spec\n- research/opencode-compaction/PRUNING-ALGORITHM-SPEC.md - Pruning details\n- research/opencode-compaction/BRUTUS-COMPACTION-IMPLEMENTATION-SPEC.md - Go impl\n\n## Implementation\nCreate: agent/compaction/\n\n## Three Phases\n1. **Overflow Detection** - Is context \u003e model limit?\n2. **Pruning** - Mark old tool outputs as compacted\n3. **Summarization** - Generate continuation prompt\n\n## Key Constants\n```go\nconst (\n    PruneMinimum = 20_000  // Min tokens to justify pruning\n    PruneProtect = 40_000  // Protect last 40K tokens\n)\n```\n\n## Depends On\n- Token estimation\n- Session persistence\n- Agent loop integration","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T22:30:24.1993846-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:30:24.1993846-08:00","dependencies":[{"issue_id":"BRUTUS-651","depends_on_id":"BRUTUS-bgi","type":"blocks","created_at":"2026-01-17T22:30:35.1968085-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-651","depends_on_id":"BRUTUS-7js","type":"blocks","created_at":"2026-01-17T22:30:39.1370202-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-651","depends_on_id":"BRUTUS-9at","type":"blocks","created_at":"2026-01-17T22:30:39.4166853-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-67q","title":"Human-in-the-Loop: Tool Approval Workflow","description":"Implement the approval system for tool execution with trust tiers.\n\nTrust Tiers:\n1. AUTO-APPROVE: read_file, list_dir, search (non-destructive)\n2. CONFIRM-ONCE: write_file, edit (first occurrence)\n3. SESSION-TRUST: Approved patterns remain approved\n4. ALWAYS-CONFIRM: rm, sudo, destructive operations\n\nUI Components:\n- Approval bar that slides in when tool needs approval\n- Shows tool name, arguments, and impact description\n- Buttons: Allow Once, Allow Session, Allow Pattern, Deny\n- Keyboard shortcuts for quick approval (y/n)\n\nUser Preferences:\n- Configurable trust levels per tool\n- Whitelist/blacklist patterns\n- Session memory for approved commands\n\nAnti-patterns to Avoid:\n- Too many confirmations (approval fatigue)\n- Inconsistent behavior (same command sometimes asks)\n- No context shown (just approve workflow?)\n\nReferences:\n- CopilotKit useHumanInTheLoop hook\n- Open WebUI approval patterns\n- LangGraph interrupt patterns\n\nAcceptance Criteria:\n- Read operations auto-approve silently\n- Write operations show approval UI\n- Approved patterns dont ask again in session\n- Keyboard shortcuts work (y/n/a)\n- Settings allow customizing trust levels","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:10:49.5317237-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:27:07.3732018-08:00","closed_at":"2026-01-15T22:27:07.3732018-08:00","close_reason":"Implemented tool approval workflow with trust tiers. Auto-approve for read operations, modal dialog for write/edit/bash. Keyboard shortcuts y/n for quick approval.","dependencies":[{"issue_id":"BRUTUS-67q","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:11:03.0243809-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-6yy","title":"Implement Output Truncation","description":"Implement output truncation to prevent context explosion.\n\n## Research Files  \n- research/opencode-tool/TRUNCATION-ALGORITHM.md\n- research/opencode-tool/TOOL-SUBSYSTEM-SPEC.md (see Automatic Truncation section)\n\n## Implementation\nCreate: agent/truncation.go\n\n## Constants\n```go\nconst (\n    MaxLines = 2000\n    MaxBytes = 50 * 1024  // 50KB\n)\n```\n\n## Behavior\n1. Count lines and bytes\n2. If over limit, truncate\n3. Write full output to temp file\n4. Return truncated output + path to full file\n\n## Integration\n- Apply automatically to all tool outputs\n- Tools can opt-out by setting truncated=true in metadata\n\n## Depends On\n- Token estimation utility","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:30:14.4014706-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:30:14.4014706-08:00","dependencies":[{"issue_id":"BRUTUS-6yy","depends_on_id":"BRUTUS-bgi","type":"blocks","created_at":"2026-01-17T22:30:34.0954669-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-6yy","depends_on_id":"BRUTUS-7js","type":"blocks","created_at":"2026-01-17T22:30:37.7522046-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-7js","title":"Implement Token Estimation Utility","description":"Create a token estimation utility for context management.\n\n## Research Files\n- research/opencode-compaction/COMPACTION-SUBSYSTEM-SPEC.md (see Token Estimation section)\n- research/opencode-compaction/BRUTUS-COMPACTION-IMPLEMENTATION-SPEC.md\n\n## Implementation\nCreate: agent/token/estimate.go\n\n```go\nconst CharsPerToken = 4\n\nfunc Estimate(s string) int {\n    if len(s) == 0 {\n        return 0\n    }\n    return (len(s) + CharsPerToken - 1) / CharsPerToken\n}\n```\n\n## Why This Matters\n- Needed for compaction decisions\n- Needed for output truncation\n- Needed for context window management\n\n## Notes\nThis is a heuristic (4 chars ≈ 1 token). Not precise, but good enough.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:30:11.9316208-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:30:11.9316208-08:00","dependencies":[{"issue_id":"BRUTUS-7js","depends_on_id":"BRUTUS-bgi","type":"blocks","created_at":"2026-01-17T22:30:33.829317-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-9at","title":"Implement Session Persistence","description":"Implement session persistence for message history.\n\n## Research Files\n- research/opencode-session/SESSION-SUBSYSTEM-SPEC.md\n- research/opencode-session/ID-GENERATION-SPEC.md\n- research/opencode-session/BRUTUS-SESSION-IMPLEMENTATION-SPEC.md\n\n## Implementation\nCreate: agent/session/\n\n## Features\n1. Session creation and management\n2. Message persistence (JSON files)\n3. Session listing and resume\n4. Forking (branch a conversation)\n\n## Storage Structure\n```\n~/.brutus/sessions/\n  {session-id}/\n    session.json     # Metadata\n    messages.json    # Message history\n```\n\n## Why This Matters\n- Resume conversations\n- Context for compaction\n- History for debugging","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T22:30:21.7493226-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:30:21.7493226-08:00","dependencies":[{"issue_id":"BRUTUS-9at","depends_on_id":"BRUTUS-bgi","type":"blocks","created_at":"2026-01-17T22:30:34.9162193-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-9rr","title":"Implement Tool Abstraction Layer","description":"Implement the core tool abstraction with validation and truncation.\n\n## Research Files\n- research/opencode-tool/TOOL-SUBSYSTEM-SPEC.md - Core patterns\n- research/opencode-tool/BRUTUS-TOOL-IMPLEMENTATION-SPEC.md - Go impl\n\n## Implementation\nCreate: tools/tool.go (rebuild from scratch)\n\n## Features\n1. Tool interface with execute, validate\n2. Automatic input validation (JSON schema)\n3. Automatic output truncation\n4. Error handling patterns\n5. Metadata streaming support\n\n## Interface\n```go\ntype Tool interface {\n    Name() string\n    Description() string\n    InputSchema() json.RawMessage\n    Execute(ctx context.Context, input json.RawMessage) (*Result, error)\n}\n\ntype Result struct {\n    Output     string\n    Title      string\n    Metadata   map[string]any\n    Truncated  bool\n    OutputPath string  // If truncated, path to full output\n}\n```","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:31:13.0084332-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:31:13.0084332-08:00","dependencies":[{"issue_id":"BRUTUS-9rr","depends_on_id":"BRUTUS-adh","type":"blocks","created_at":"2026-01-17T22:31:35.662083-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-a22","title":"Settings \u0026 Preferences: User Configuration Panel","description":"Implement settings panel for user preferences.\n\nSettings Categories:\n\n1. Appearance\n- Theme (dark/light/system)\n- Font family and size\n- Terminal color scheme\n- UI density (compact/comfortable)\n\n2. Behavior\n- Default trust levels per tool\n- Auto-approve patterns\n- Confirmation preferences\n- Auto-scroll behavior\n\n3. Keybindings\n- Customizable shortcuts\n- Vim mode option\n- Quick action mappings\n\n4. Agent\n- Default model selection\n- Temperature/sampling\n- System prompt overrides\n- Tool restrictions\n\n5. Advanced\n- Context window size\n- Auto-save interval\n- Log level\n- Experimental features\n\nStorage:\n- User preferences in config file\n- Project-level overrides\n- Environment variable support\n\nAcceptance Criteria:\n- Settings panel accessible from menu\n- Changes apply immediately\n- Settings persist across restarts\n- Reset to defaults option\n- Import/export settings","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:39.8970735-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:13:05.7138758-08:00","closed_at":"2026-01-17T00:13:05.7138758-08:00","close_reason":"Implemented settings panel with Appearance (theme, font size, UI density), Behavior (auto-scroll, confirm stop, show results), Agent (default model, auto-approve read tools), and Shortcuts reference tabs. Settings persist to localStorage.","dependencies":[{"issue_id":"BRUTUS-a22","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:11:53.4767918-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-adh","title":"Tools - Rebuild with Research Patterns","description":"Rebuild all tools using OpenCode research patterns.\n\n## Research Files (READ THESE FIRST)\n- research/opencode-tool/TOOL-SUBSYSTEM-SPEC.md - Tool abstraction\n- research/opencode-tool/TRUNCATION-ALGORITHM.md - Output truncation\n- research/opencode-edit-tool/EDIT-TOOL-SPEC.md - Edit architecture\n- research/opencode-edit-tool/FUZZY-REPLACEMENT-SPEC.md - The 9 algorithms\n- research/opencode-edit-tool/BRUTUS-EDIT-IMPLEMENTATION-SPEC.md - Go impl\n- research/opencode-permission/PERMISSION-SUBSYSTEM-SPEC.md - Authorization\n- research/opencode-file/FILE-SUBSYSTEM-SPEC.md - File operations\n\n## Tools to Build\n1. Tool abstraction - Base interface with validation, truncation\n2. Fuzzy edit - 9 replacement algorithms\n3. Read with tracking - Must read before edit\n4. Bash with permissions - Ask before dangerous commands\n5. Search/Glob - File finding\n6. Truncation utility - Shared across tools\n\n## Key Insight  \nLLMs make mistakes (indentation, whitespace). Fuzzy matching is critical.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-17T22:28:37.3531524-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:28:37.3531524-08:00","dependencies":[{"issue_id":"BRUTUS-adh","depends_on_id":"BRUTUS-wuh","type":"blocks","created_at":"2026-01-17T22:28:48.9509496-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-aph","title":"Session History: Save, Resume, and Browse Past Sessions","description":"Implement session persistence for resuming work and browsing history.\n\nCore Features:\n- Auto-save session state periodically\n- Session list in sidebar with timestamps\n- Resume any previous session\n- Search/filter past sessions\n- Export session as markdown\n\nSession State Includes:\n- Full conversation history\n- Context files at time of session\n- Pending changes (uncommitted diffs)\n- Agent state and tool approvals\n- Window layout preferences\n\nStorage:\n- SQLite database for sessions\n- JSON export option\n- Optional git-backed persistence\n\nSession Management:\n- New Session button\n- Rename sessions\n- Delete old sessions\n- Session tags/labels\n- Sort by date, duration, activity\n\nResume Behavior:\n- Reload context files\n- Show session summary\n- Option to continue or start fresh\n- Warn if files changed since session\n\nAcceptance Criteria:\n- Sessions auto-save every 60 seconds\n- Can browse and resume past sessions\n- Session state fully restored on resume\n- Search finds sessions by content\n- Export produces readable markdown","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:28.05643-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:10.7565892-08:00","closed_at":"2026-01-17T00:19:10.7565892-08:00","close_reason":"Deferred to backlog. MVP complete without session history - can be added in future session.","dependencies":[{"issue_id":"BRUTUS-aph","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:11:39.6539643-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-aw6","title":"Implement Search/Glob Tools","description":"Implement file search and glob tools.\n\n## Research Files\n- research/opencode-file/FILE-SUBSYSTEM-SPEC.md\n- research/opencode-file/RIPGREP-INTEGRATION-SPEC.md\n\n## Implementation\nCreate: tools/search.go, tools/glob.go\n\n## Search Tool\n- Pattern-based code search\n- Ripgrep integration (if available) or fallback\n- Context lines support (-A, -B, -C)\n- File type filtering\n\n## Glob Tool\n- Find files by pattern\n- Respect .gitignore\n- Return sorted by modification time\n\n## Notes\n- Can use Go's filepath.Glob for basic functionality\n- Ripgrep integration is optional enhancement","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T22:31:23.0332612-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:31:23.0332612-08:00","dependencies":[{"issue_id":"BRUTUS-aw6","depends_on_id":"BRUTUS-adh","type":"blocks","created_at":"2026-01-17T22:31:36.7691898-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-aw6","depends_on_id":"BRUTUS-9rr","type":"blocks","created_at":"2026-01-17T22:31:40.4926865-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-b1p","title":"Write BRUTUS Documentation","description":"Write documentation for BRUTUS users and contributors.\n\n## Documents to Create\n\n### README.md (User-Facing)\n- What is BRUTUS?\n- Saturn integration story\n- Quick start guide\n- Feature overview\n\n### ARCHITECTURE.md (Developer-Facing)\n- System overview\n- Component diagram\n- How to add tools\n- How to extend\n\n### SATURN.md (Integration Guide)\n- How BRUTUS uses Saturn\n- Discovery protocol\n- Multi-instance setup\n- Troubleshooting\n\n## Key Message\nBRUTUS = Saturn Showcase Agent\nThe docs should emphasize local inference, privacy, and Saturn's capabilities.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-17T22:32:16.1183997-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:32:16.1183997-08:00","dependencies":[{"issue_id":"BRUTUS-b1p","depends_on_id":"BRUTUS-273","type":"blocks","created_at":"2026-01-17T22:32:27.0459771-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-bak","title":"Audit Saturn Pool \u0026 Multi-Instance","description":"Audit the Saturn pool management for multi-instance coordination.\n\n## Files to Audit\n- provider/saturn_pool.go\n- coordinator/coordinator.go\n\n## Questions to Answer\n1. How does the pool manage multiple Saturn instances?\n2. How does the coordinator orchestrate multi-agent workflows?\n3. What's the load balancing strategy?\n4. How does it handle instance failures?\n5. Can we run multiple agents on different Saturn instances?\n\n## Multi-Agent is a Saturn Differentiator\nThis is how we show Saturn can do things cloud APIs can't easily do.\n\n## Output\nCreate a document: docs/saturn-multiagent-audit.md","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-17T22:29:20.7842204-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:29:20.7842204-08:00","dependencies":[{"issue_id":"BRUTUS-bak","depends_on_id":"BRUTUS-u8z","type":"blocks","created_at":"2026-01-17T22:29:33.0198835-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-bav","title":"Audit Saturn Provider (saturn.go)","description":"Audit the core Saturn provider implementation.\n\n## File to Audit\n- provider/saturn.go\n\n## Questions to Answer\n1. What's the API surface? (Chat, ListModels, SetModel, etc.)\n2. How does it handle streaming vs non-streaming?\n3. How does it handle errors?\n4. What's the connection lifecycle?\n5. Does it support all the features the new agent core needs?\n\n## Research Comparison\n- Compare with research/opencode-provider/PROVIDER-SUBSYSTEM-SPEC.md\n- Note: We're NOT copying OpenCode's provider - Saturn is custom\n- Just look for patterns we might be missing\n\n## Output\nCreate a document: docs/saturn-provider-audit.md\n- Current capabilities\n- Gaps identified\n- Recommended improvements","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-17T22:29:15.9379916-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:29:15.9379916-08:00","dependencies":[{"issue_id":"BRUTUS-bav","depends_on_id":"BRUTUS-u8z","type":"blocks","created_at":"2026-01-17T22:29:32.4797951-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-bgi","title":"Agent Core - Rebuild from Research","description":"Rebuild the agent core using OpenCode research patterns.\n\n## Research Files (READ THESE FIRST)\n- research/opencode-agent-loop/AGENT-LOOP-SPEC.md - Core loop architecture\n- research/opencode-agent-loop/MESSAGE-STRUCTURES.md - Message types\n- research/opencode-agent-loop/BRUTUS-IMPLEMENTATION-SPEC.md - Go implementation guide\n- research/opencode-compaction/COMPACTION-SUBSYSTEM-SPEC.md - Context management\n- research/opencode-compaction/BRUTUS-COMPACTION-IMPLEMENTATION-SPEC.md - Go impl\n- research/opencode-session/SESSION-SUBSYSTEM-SPEC.md - Session management\n\n## Components to Build\n1. The Loop - Clean inference loop with doom detection\n2. Token counting - Estimate token usage\n3. Output truncation - Prevent context explosion  \n4. Session persistence - Message history\n5. Compaction - Prune old outputs, summarize\n\n## Key Insight\nThe loop is simple: User → LLM → Tools → Repeat. Everything else is guards and persistence.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-17T22:28:34.9745812-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:28:34.9745812-08:00","dependencies":[{"issue_id":"BRUTUS-bgi","depends_on_id":"BRUTUS-wuh","type":"blocks","created_at":"2026-01-17T22:28:48.6850818-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-cr2","title":"Audit Saturn Discovery System","description":"Audit the Saturn discovery system (mDNS/zeroconf).\n\n## Files to Audit\n- provider/discovery.go\n- provider/discovery_zeroconf.go\n- provider/discovery_legacy.go\n\n## Questions to Answer\n1. How does discovery work on different platforms?\n2. What's the fallback chain? (zeroconf → legacy → manual)\n3. How reliable is it?\n4. How does it handle multiple Saturn instances?\n5. What's the UX when no Saturn found?\n\n## This is BRUTUS's Magic\nThe ability to auto-discover Saturn on the network is a killer feature.\nMake sure we understand it deeply.\n\n## Output\nCreate a document: docs/saturn-discovery-audit.md","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-17T22:29:18.3556999-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:29:18.3556999-08:00","dependencies":[{"issue_id":"BRUTUS-cr2","depends_on_id":"BRUTUS-u8z","type":"blocks","created_at":"2026-01-17T22:29:32.747883-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-dby","title":"Frontend silently swallows SendMessage errors","description":"**File**: frontend/src/App.tsx lines 352-354\n\n**Problem**: SendMessage returns Promise but frontend ignores it. User has no idea if send failed.\n\n**Impact**: This is likely why user sees no response - errors silently dropped.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T23:08:41.4083779-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:34:55.832519-08:00","closed_at":"2026-01-16T23:34:55.832519-08:00","close_reason":"Closed"}
{"id":"BRUTUS-dcs","title":"GUIAgent does not expose Saturn provider info","description":"**File**: gui_agent.go lines 38-51\n\n**Problem**: GUIAgent.provider is private with no getter. App cannot retrieve Saturn service details.\n\n**Fix**: Add GetServiceInfo() method. Also requires Saturn.GetService() in provider/saturn.go.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:08:54.7132699-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:41:40.1456999-08:00","closed_at":"2026-01-16T23:41:40.1456999-08:00","close_reason":"Closed"}
{"id":"BRUTUS-dfb","title":"Agents should auto-broadcast status during inference","description":"## Problem\nCurrently agents only update status via the coordinator's in-memory state. For cross-instance visibility, agents need to use the `agent_broadcast` tool to write status files that other agents can observe.\n\n## Current Behavior\n- `runInferenceLoop()` calls `coordinator.UpdateStatus()`\n- This only updates local memory\n- Other instances can't see this status\n\n## Options\n1. **Auto-broadcast on status change**: When status changes, also call BroadcastTool\n2. **Periodic broadcast**: Background goroutine broadcasts status every N seconds\n3. **Rely on tools**: Trust LLM to use broadcast tool (current approach)\n\n## Consideration\nIf coordinator.Start() is called (BRUTUS-tzz), zeroconf TXT records will automatically broadcast status. This issue may be resolved by that fix.\n\n## Dependencies\n- Depends on BRUTUS-tzz (coordinator start)\n\n## Acceptance Criteria\n- [ ] Agent status visible to other instances without explicit tool use\n- [ ] Status updates within 2 seconds of change","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:24:59.5824628-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:04:17.3369232-08:00","closed_at":"2026-01-17T00:04:17.3369232-08:00","close_reason":"Added updateStatusWithBroadcast method that updates coordinator status and writes file-based broadcast simultaneously. Status files now written to temp/brutus-agents/ on every status change.","dependencies":[{"issue_id":"BRUTUS-dfb","depends_on_id":"BRUTUS-tzz","type":"blocks","created_at":"2026-01-16T23:25:07.423099-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-dfn","title":"BRUTUS GUI: Desktop Application","description":"Epic for implementing the BRUTUS graphical user interface.\n\n## Vision\nA lightweight, Go-native desktop GUI that wraps the BRUTUS agent with a clean, focused interface for coding assistance.\n\n## Key Issues\n- BRUTUS-zvs: Interview (P0)\n- BRUTUS-030: Architecture Decision\n- BRUTUS-jfo: Project Scaffolding\n- BRUTUS-p7p: Terminal Integration\n- BRUTUS-5hq: Agent Connection\n- BRUTUS-oz6: Chat Panel\n- BRUTUS-2mp: Streaming Output\n- BRUTUS-67q: Approval Workflow\n- BRUTUS-oed: Diff Visualization\n- BRUTUS-0i9: Context Management\n- BRUTUS-aph: Session History\n- BRUTUS-a22: Settings\n- BRUTUS-igl: Keyboard Shortcuts\n- BRUTUS-0w5: MVP Integration\n\n## Success Metrics\n- Binary under 10MB\n- First token under 500ms\n- No memory leaks over 1 hour session","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-15T21:12:51.6196521-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:28.8885171-08:00","closed_at":"2026-01-17T00:19:28.8885171-08:00","close_reason":"MVP complete. GUI desktop application working with Wails+React. Core features done: chat panel, streaming output, tool approval, diff visualization, terminal integration, settings, keyboard shortcuts. P2 context management and session history deferred to backlog."}
{"id":"BRUTUS-dxg","title":"Create Example Workflows","description":"Create example workflows demonstrating BRUTUS + Saturn capabilities.\n\n## Examples to Create\n\n### 1. Code Review Workflow\n- Point BRUTUS at a PR/diff\n- Saturn analyzes code quality\n- Generates review comments\n\n### 2. Bug Fix Workflow\n- Describe a bug\n- Saturn finds relevant code\n- Proposes and applies fix\n\n### 3. Feature Implementation Workflow\n- Describe feature\n- Saturn plans implementation\n- Implements step by step\n\n### 4. Multi-Agent Code Generation\n- Complex task requiring multiple agents\n- Shows Saturn coordination\n\n## Location\nCreate: examples/workflows/\n\n## Each Example Should\n1. Be runnable with single command\n2. Show Saturn discovery\n3. Demonstrate BRUTUS capabilities\n4. Be impressive to demo","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-17T22:32:12.7570643-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:32:12.7570643-08:00","dependencies":[{"issue_id":"BRUTUS-dxg","depends_on_id":"BRUTUS-273","type":"blocks","created_at":"2026-01-17T22:32:26.6558218-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-dxg","depends_on_id":"BRUTUS-ob6","type":"blocks","created_at":"2026-01-17T22:32:31.5818276-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-e7v","title":"Implement Fuzzy Edit Tool (9 Algorithms)","description":"Implement the fuzzy edit tool with all 9 replacement algorithms.\n\n## Research Files (CRITICAL - READ ALL)\n- research/opencode-edit-tool/EDIT-TOOL-SPEC.md - Architecture\n- research/opencode-edit-tool/FUZZY-REPLACEMENT-SPEC.md - THE 9 ALGORITHMS\n- research/opencode-edit-tool/BRUTUS-EDIT-IMPLEMENTATION-SPEC.md - Go impl\n\n## Implementation\nCreate: tools/edit.go, tools/edit_replacers.go\n\n## The 9 Replacers (in order)\n1. SimpleReplacer - Exact match\n2. LineTrimmedReplacer - Trim whitespace per line\n3. BlockAnchorReplacer - First/last line anchors + fuzzy middle\n4. WhitespaceNormalizedReplacer - Collapse whitespace\n5. IndentationFlexibleReplacer - Strip common indent\n6. EscapeNormalizedReplacer - Handle escape sequences\n7. TrimmedBoundaryReplacer - Trim boundaries\n8. ContextAwareReplacer - Anchors + 50% middle match\n9. MultiOccurrenceReplacer - For replaceAll mode\n\n## Also Needed\n- Levenshtein distance function\n- Read-before-edit tracking\n\n## Why This is P0\nLLMs constantly get indentation wrong. This is the #1 cause of edit failures.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-17T22:31:15.5190088-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:31:15.5190088-08:00","dependencies":[{"issue_id":"BRUTUS-e7v","depends_on_id":"BRUTUS-adh","type":"blocks","created_at":"2026-01-17T22:31:35.9390697-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-e7v","depends_on_id":"BRUTUS-9rr","type":"blocks","created_at":"2026-01-17T22:31:39.6620644-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-e7v","depends_on_id":"BRUTUS-so8","type":"blocks","created_at":"2026-01-17T22:31:41.0664313-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-gbr","title":"Implement SaturnPool with round-robin failover","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:01:43.676834-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:45:40.2408577-08:00","closed_at":"2026-01-16T23:45:40.2408577-08:00","close_reason":"Implemented SaturnPool in provider/saturn_pool.go with round-robin selection and automatic failover across all discovered services"}
{"id":"BRUTUS-gkb","title":"LaunchMultiAgentDemo should send initial task prompts","description":"## Problem\n`LaunchMultiAgentDemo()` in app.go:213-235 creates three agents:\n- Editor-1\n- Editor-2\n- Observer\n\nBut it doesn't send them the initial task prompts specified in PROMPT.md Phase 4:\n- Agent 1: Edit mock1.txt, add greeting function\n- Agent 2: Edit mock2.txt, add farewell function\n- Agent 3: Use observe_agents, summarize activity\n\n## Current Code\n```go\nfunc (a *App) LaunchMultiAgentDemo() ([]string, error) {\n    id1, _ := a.NewNamedAgent(\"Editor-1\", \"\")\n    id2, _ := a.NewNamedAgent(\"Editor-2\", \"\")\n    id3, _ := a.NewNamedAgent(\"Observer\", \"\")\n    return ids, nil  // No messages sent!\n}\n```\n\n## Expected Behavior\nAfter creating agents, send them their initial tasks so the demo actually runs.\n\n## Files\n- app.go: Add SendMessage calls after agent creation\n\n## Acceptance Criteria\n- [ ] Editor-1 receives task to edit mock1.txt\n- [ ] Editor-2 receives task to edit mock2.txt\n- [ ] Observer receives task to use observe_agents\n- [ ] Demo runs end-to-end when button clicked","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-16T23:24:40.2137846-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:47:19.0084864-08:00","closed_at":"2026-01-16T23:47:19.0084864-08:00","close_reason":"Added initial task prompts to LaunchMultiAgentDemo: Editor-1 creates greeting in mock1.txt, Editor-2 creates farewell in mock2.txt, Observer uses observe_agents tool","dependencies":[{"issue_id":"BRUTUS-gkb","depends_on_id":"BRUTUS-tzz","type":"blocks","created_at":"2026-01-16T23:25:08.7758043-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-gtp","title":"Multi-Agent GUI Integration (Ralph Loop 2)","description":"Epic for completing PROMPT.md - integrating the multi-agent SDK infrastructure into the BRUTUS desktop GUI.\n\n## Background\nRalph Loop 1 built the SDK infrastructure:\n- coordinator/coordinator.go - zeroconf-based agent discovery\n- tools/broadcast.go - BroadcastTool + ObserveAgentsTool\n- sdk/multi_agent.go - mock-based testing harness\n- sdk/live_multi_agent.go - live LLM multi-agent harness\n\n## Problem\nThe SDK features exist but aren't wired up to the GUI. Key gaps:\n1. Coordinator created but never started (no network presence)\n2. Status bar only shows local agents\n3. Demo creates agents but doesn't send initial tasks\n4. No programmatic orchestration exposed to users\n\n## Goal\nUsers should be able to:\n- Spawn multiple agents in the GUI\n- See agents coordinate through shared files or network\n- Use observe_agents tool to see what other agents are doing\n- See a coordination status bar showing all agent states\n\n## Reference\nSee PROMPT.md for full requirements.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-16T23:24:15.5933481-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:30.4680227-08:00","closed_at":"2026-01-17T00:19:30.4680227-08:00","close_reason":"MVP complete. Multi-agent integration working: coordinator starts for zeroconf discovery, status bar discovers agents across instances, multi-agent demo sends initial tasks, agents auto-broadcast status. P3 SDK orchestration UI deferred to backlog.","comments":[{"id":1,"issue_id":"BRUTUS-gtp","author":"JOEYLAPTOP\\jperr","text":"Child Issues: BRUTUS-tzz (P1 blocking), BRUTUS-j89 (P2), BRUTUS-gkb (P2), BRUTUS-j2b (P3), BRUTUS-dfb (P3). Start with tzz - it unblocks everything.","created_at":"2026-01-17T07:25:40Z"}]}
{"id":"BRUTUS-h3g","title":"Define Saturn Interface Contract","description":"Define the interface contract between Saturn and the new Agent Core.\n\n## Depends On\n- Saturn provider audit\n- Saturn discovery audit  \n- Saturn pool audit\n\n## Deliverable\nCreate: saturn/interface.go\n\n## Interface Should Include\n```go\ntype Provider interface {\n    // Core inference\n    Chat(ctx, systemPrompt, messages, tools) (Message, error)\n    \n    // Model management\n    ListModels(ctx) ([]Model, error)\n    SetModel(modelID string)\n    GetModel() string\n    \n    // Discovery\n    Discover(ctx) ([]Instance, error)\n    Connect(instance Instance) error\n    \n    // Health\n    Ping(ctx) error\n    Status() ProviderStatus\n}\n```\n\n## This Contract Enables\n- New agent core to be built against stable interface\n- Testing with mock providers\n- Future provider implementations","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:29:23.2122438-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:29:23.2122438-08:00","dependencies":[{"issue_id":"BRUTUS-h3g","depends_on_id":"BRUTUS-u8z","type":"blocks","created_at":"2026-01-17T22:29:33.2851912-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-h3g","depends_on_id":"BRUTUS-bav","type":"blocks","created_at":"2026-01-17T22:29:35.7161004-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-h3g","depends_on_id":"BRUTUS-cr2","type":"blocks","created_at":"2026-01-17T22:29:35.9902684-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-h3g","depends_on_id":"BRUTUS-bak","type":"blocks","created_at":"2026-01-17T22:29:36.2534957-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-igl","title":"Keyboard Shortcuts: Power User Navigation","description":"Implement comprehensive keyboard navigation.\n\nCore Shortcuts:\n- Cmd+K: Quick command palette\n- Cmd+Enter: Send message\n- Cmd+.: Cancel/stop generation\n- Cmd+N: New session\n- Cmd+O: Open project\n- Cmd+,: Settings\n\nNavigation:\n- Tab: Cycle between panels\n- Esc: Close modals/panels\n- Cmd+1/2/3: Switch panels\n- Cmd+Shift+E: Toggle file explorer\n- Cmd+Shift+H: Toggle history\n\nApproval:\n- Y: Approve current tool\n- N: Reject current tool\n- A: Approve all pending\n- S: Approve for session\n\nDiff Review:\n- J/K: Navigate hunks\n- Enter: Accept hunk\n- Backspace: Reject hunk\n- Space: Toggle hunk selection\n\nTerminal:\n- Ctrl+C: Send interrupt\n- Ctrl+L: Clear terminal\n- Ctrl+Shift+T: New terminal tab\n\nDesign Principles:\n- Never hijack existing shortcuts\n- Respect system conventions\n- Discoverable via command palette\n- Customizable\n\nAcceptance Criteria:\n- All shortcuts documented\n- Command palette shows available commands\n- Shortcuts customizable in settings\n- No conflicts with terminal input\n- Cheat sheet accessible via Cmd+?","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:53.7020452-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:13:05.5600468-08:00","closed_at":"2026-01-17T00:13:05.5600468-08:00","close_reason":"Implemented keyboard shortcuts system with: Ctrl+K command palette, Ctrl+, settings, Ctrl+N new agent, Ctrl+1/2/3 focus agents, Escape close modals, Y/N for approvals. All documented in settings panel.","dependencies":[{"issue_id":"BRUTUS-igl","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:12:08.2261609-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-j2b","title":"Expose SDK orchestration capabilities to GUI","description":"## Problem\nThe SDK has sophisticated multi-agent orchestration:\n- `MultiAgentHarness.RunConcurrent()` - run agents in parallel\n- `MultiAgentHarness.RunSequential()` - run agents in order\n- `LiveMultiAgentHarness.RunConcurrent()` - real LLM multi-agent\n- `RunScenario()` - load and execute JSON scenarios\n\nNone of this is exposed in the GUI. Users can only manually create agents and send messages one at a time.\n\n## Potential Features\n1. **Scenario Runner**: Load .json scenario files, run multi-agent tests\n2. **Orchestration Mode**: Define agent roles and tasks, run as batch\n3. **Concurrent Execution**: Send same task to multiple agents simultaneously\n\n## Files\n- app.go: Add methods to wrap SDK capabilities\n- frontend/src/App.tsx: Add UI for scenario loading/running\n\n## Acceptance Criteria\n- [ ] User can load a scenario JSON file\n- [ ] User can run scenario (concurrent or sequential)\n- [ ] Results shown in UI\n\n## Notes\nThis is a larger feature - may be post-MVP.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:24:58.1700531-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:12.3263526-08:00","closed_at":"2026-01-17T00:19:12.3263526-08:00","close_reason":"Deferred to backlog. SDK orchestration is post-MVP - can be added when multi-agent GUI needs expansion."}
{"id":"BRUTUS-j89","title":"Status bar should discover agents across instances","description":"## Problem\nThe coordination status bar in App.tsx only shows agents from the local `guiAgents` map (app.go:68-83). If you run multiple BRUTUS instances, they can't see each other's agents.\n\n## Current Behavior\n```go\nfunc (a *App) GetCoordinationStatuses() []CoordinationStatus {\n    // Only reads from local a.guiAgents map\n    for id, agent := range a.guiAgents {\n        // ...\n    }\n}\n```\n\n## Expected Behavior\nThe status bar should show:\n1. Local agents (current behavior)\n2. Remote agents discovered via zeroconf (new)\n\n## Implementation Options\n1. **Hybrid approach**: Merge local agents + discovered agents\n2. **Use coordinator.DiscoverAgents()**: Already implemented in coordinator.go:168\n\n## Files\n- app.go: Modify `GetCoordinationStatuses()` to include remote agents\n- coordinator/coordinator.go: May need shared coordinator instance\n\n## Acceptance Criteria\n- [ ] Status bar shows agents from other BRUTUS instances\n- [ ] Visual distinction between local vs remote agents\n- [ ] Discovery doesn't block UI (async)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:24:38.7059247-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:42:41.1112801-08:00","closed_at":"2026-01-16T23:42:41.1112801-08:00","close_reason":"Closed","dependencies":[{"issue_id":"BRUTUS-j89","depends_on_id":"BRUTUS-tzz","type":"blocks","created_at":"2026-01-16T23:25:06.0725809-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-jfo","title":"Project Scaffolding: Initialize Wails + React + TypeScript","description":"Set up the foundational project structure for BRUTUS GUI.\n\n## Structure\n\n```\nui/\n├── frontend/           # React + TypeScript\n│   ├── src/\n│   │   ├── components/\n│   │   ├── hooks/\n│   │   ├── stores/\n│   │   └── App.tsx\n│   ├── package.json\n│   └── vite.config.ts\n├── app.go              # Wails app struct with bindings\n├── main.go             # Entry point\n├── wails.json          # Wails config\n└── go.mod\n```\n\n## Tasks\n\n1. Run wails init with React-TS template\n2. Configure project structure\n3. Set up Tailwind CSS\n4. Install core dependencies (xterm.js, monaco-editor, zustand)\n5. Create basic component structure\n6. Verify dev mode works (wails dev)\n7. Verify build works (wails build)\n\n## Dependencies to Install\n\nFrontend:\n- @xterm/xterm, @xterm/addon-fit, @xterm/addon-web-links\n- @monaco-editor/react\n- zustand\n- tailwindcss, postcss, autoprefixer\n- framer-motion (optional, for animations)\n\n## Acceptance Criteria\n\n- [ ] wails dev runs successfully\n- [ ] wails build produces working binary\n- [ ] Tailwind CSS configured\n- [ ] Basic App component renders\n- [ ] Go backend callable from frontend","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T21:09:32.0877108-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:11:28.3883758-08:00","closed_at":"2026-01-15T22:11:28.3883758-08:00","close_reason":"Wails+React+TypeScript scaffolding complete. Command center UI with autumn theme implemented.","dependencies":[{"issue_id":"BRUTUS-jfo","depends_on_id":"BRUTUS-030","type":"blocks","created_at":"2026-01-15T21:09:54.1730351-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-jlx","title":"Build GUI Multi-Agent Demo","description":"Build GUI showing multiple Saturn instances working together.\n\n## Research Files\n- research/opencode-pty/PTY-SUBSYSTEM-SPEC.md\n- research/opencode-bus/BUS-SUBSYSTEM-SPEC.md\n\n## Implementation\nEnhance: gui_agent.go, app.go\n\n## Demo Features\n1. Multiple agent panels (each on different Saturn instance)\n2. Visual showing agents communicating\n3. Shared context/handoffs between agents\n4. Real-time streaming from each agent\n\n## Key UX Moments\n- \"Agent 1 (Saturn@laptop)\" and \"Agent 2 (Saturn@desktop)\"\n- Visual lines showing coordination\n- Shows Saturn can scale across machines\n\n## Depends On\n- Saturn pool/coordinator\n- CLI demo working first\n- Agent loop with multi-agent support","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-17T22:32:09.5834767-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:32:09.5834767-08:00","dependencies":[{"issue_id":"BRUTUS-jlx","depends_on_id":"BRUTUS-273","type":"blocks","created_at":"2026-01-17T22:32:26.3007998-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-jlx","depends_on_id":"BRUTUS-ob6","type":"blocks","created_at":"2026-01-17T22:32:31.2423439-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-mxv","title":"Implement New Agent Loop","description":"Implement the new agent loop with all guards and proper flow.\n\n## Research Files\n- research/opencode-agent-loop/AGENT-LOOP-SPEC.md - THE source of truth\n- research/opencode-agent-loop/MESSAGE-STRUCTURES.md - Message types\n- research/opencode-agent-loop/BRUTUS-IMPLEMENTATION-SPEC.md - Go implementation\n\n## Implementation\nCreate: agent/loop.go\n\n## The Loop (Simplified)\n```\n1. Get user input\n2. Build context (messages, system prompt, tools)\n3. Call Saturn for inference\n4. If tool calls:\n   a. Check doom loop\n   b. Execute tools (with truncation)\n   c. Add results to context\n   d. Goto 3\n5. If no tool calls:\n   a. Show response\n   b. Check for compaction need\n   c. Goto 1\n```\n\n## Guards to Include\n- Doom loop detection\n- Output truncation\n- Error recovery\n- Abort signal handling\n\n## Depends On\n- Saturn interface contract\n- Token estimation\n- Doom loop detection\n- Output truncation","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:30:19.2721576-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:30:19.2721576-08:00","dependencies":[{"issue_id":"BRUTUS-mxv","depends_on_id":"BRUTUS-bgi","type":"blocks","created_at":"2026-01-17T22:30:34.6423914-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-mxv","depends_on_id":"BRUTUS-h3g","type":"blocks","created_at":"2026-01-17T22:30:38.0143103-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-mxv","depends_on_id":"BRUTUS-7js","type":"blocks","created_at":"2026-01-17T22:30:38.2801186-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-mxv","depends_on_id":"BRUTUS-6yy","type":"blocks","created_at":"2026-01-17T22:30:38.5604233-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-mxv","depends_on_id":"BRUTUS-xy4","type":"blocks","created_at":"2026-01-17T22:30:38.8567591-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-ob6","title":"Build CLI Demo (Saturn Discovery Showcase)","description":"Build a CLI that showcases Saturn discovery and usage.\n\n## Research Files\n- research/opencode-server/SERVER-SUBSYSTEM-SPEC.md (for patterns, not full server)\n\n## Implementation\nCreate: cmd/brutus/main.go\n\n## Demo Flow\n1. Start BRUTUS\n2. Auto-discover Saturn on network\n3. Show discovery animation/status\n4. Let user select model\n5. Start conversation\n6. Show Saturn working (inference, tool use)\n\n## Key UX Moments\n- \"Searching for Saturn...\" → \"Found Saturn at 192.168.1.100\"\n- Model selection with Saturn's available models\n- Clear indication this is LOCAL inference\n\n## Depends On\n- Saturn interface contract\n- Agent loop\n- All tools","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T22:32:06.4186272-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:32:06.4186272-08:00","dependencies":[{"issue_id":"BRUTUS-ob6","depends_on_id":"BRUTUS-273","type":"blocks","created_at":"2026-01-17T22:32:25.9547191-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-ob6","depends_on_id":"BRUTUS-mxv","type":"blocks","created_at":"2026-01-17T22:32:30.5056224-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-ob6","depends_on_id":"BRUTUS-e7v","type":"blocks","created_at":"2026-01-17T22:32:30.8840138-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-oed","title":"Diff Visualization: Monaco Side-by-Side with Granular Accept/Reject","description":"Implement code diff visualization with granular hunk-level accept/reject.\n\nCore Features:\n- Monaco DiffEditor for side-by-side view\n- Individual accept/reject per change hunk\n- Copy from original (deleted red code)\n- Pending changes panel showing all diffs\n- Inline view option for narrow screens\n\nKey UX Improvements (from research):\n- Can copy deleted (red) code to clipboard\n- Accept one hunk, reject another independently\n- Changes are final on accept (not waiting for git commit)\n- Clear visual distinction between pending/accepted/rejected\n\nComponents:\n- DiffViewer: Wraps Monaco DiffEditor\n- DiffHunk: Individual change with accept/reject buttons\n- PendingChangesPanel: List of all pending file changes\n- DiffActions: Accept All, Reject All, Review Next\n\nIntegration:\n- Hook into agent tool_result for edit/write operations\n- Store pending changes in session state\n- Apply accepted changes to filesystem\n- Revert rejected changes\n\nAcceptance Criteria:\n- Side-by-side diff renders correctly\n- Can accept/reject individual hunks\n- Can copy from deleted (red) code\n- Pending changes tracked across multiple files\n- Keyboard navigation through changes","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:11:03.2850325-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:27:10.5800635-08:00","closed_at":"2026-01-15T22:27:10.5800635-08:00","close_reason":"Added Monaco DiffEditor component for code diff visualization. DiffModal component ready for integration with file edit events.","dependencies":[{"issue_id":"BRUTUS-oed","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:11:15.3960835-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-oz6","title":"Chat Panel: Message Input and History Display","description":"Implement the primary chat interface for user-agent interaction.\n\nComponents:\n\n1. Message List\n- Scrollable message history\n- User messages right-aligned\n- Assistant messages left-aligned\n- Tool call blocks with expand/collapse\n- Code blocks with syntax highlighting\n- Markdown rendering\n\n2. Input Area\n- Multi-line text input\n- Shift+Enter for newline\n- Enter or Cmd+Enter to send\n- File drop zone for attachments\n- Image paste support\n- Character/token count\n\n3. Message Actions\n- Copy message\n- Edit and resend\n- Delete message\n- Fork conversation from message\n\n4. Streaming State\n- Typing indicator during generation\n- Token count updating\n- Stop button prominent\n- Error state handling\n\n5. Tool Call Display\n- Collapsible tool invocations\n- Show tool name, args, result\n- Status indicator (pending/running/done)\n- Link to approval if needed\n\nStyling:\n- Clean, readable typography\n- Adequate spacing\n- Distinct visual for user vs assistant\n- Subtle animations for streaming\n\nAcceptance Criteria:\n- Messages display with correct formatting\n- Input supports multi-line editing\n- Streaming response shows progressively\n- Tool calls render with details\n- History scrollable and searchable","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:12:08.4504682-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:11:53.3477305-08:00","closed_at":"2026-01-15T22:11:53.3477305-08:00","close_reason":"Chat panel with message input and history display implemented in App.tsx. AgentPanel component with messages array and input textarea.","dependencies":[{"issue_id":"BRUTUS-oz6","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:12:21.0786309-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-p7p","title":"Terminal Integration: xterm.js + Go PTY","description":"Implement the core terminal component that connects xterm.js in the frontend to a PTY in Go.\n\n## Architecture\n\n```\n┌─────────────────────────────────────────────┐\n│              GO BACKEND                      │\n│  ┌─────────────────────────────────────┐    │\n│  │ PTYManager                           │    │\n│  │  - Spawn(shell, cols, rows) -\u003e id   │    │\n│  │  - Write(id, data)                   │    │\n│  │  - Resize(id, cols, rows)            │    │\n│  │  - Kill(id)                          │    │\n│  └─────────────────────────────────────┘    │\n│              │                               │\n│    Wails Events: pty:data, pty:exit         │\n└─────────────────────────────────────────────┘\n                    │\n┌─────────────────────────────────────────────┐\n│             REACT FRONTEND                   │\n│  ┌─────────────────────────────────────┐    │\n│  │ \u003cTerminal /\u003e                         │    │\n│  │  - xterm.js instance                 │    │\n│  │  - FitAddon for resize               │    │\n│  │  - WebLinksAddon for URLs            │    │\n│  │  - ResizeObserver -\u003e backend resize  │    │\n│  └─────────────────────────────────────┘    │\n└─────────────────────────────────────────────┘\n```\n\n## Go Implementation\n\nUse creack/pty for PTY management:\n\n```go\nimport \"github.com/creack/pty\"\n\ntype PTYManager struct {\n    ptys map[string]*os.File\n    mu   sync.RWMutex\n}\n\nfunc (m *PTYManager) Spawn(shell string, cols, rows uint16) (string, error)\nfunc (m *PTYManager) Write(id string, data []byte) error\nfunc (m *PTYManager) Resize(id string, cols, rows uint16) error\nfunc (m *PTYManager) Read(id string) \u003c-chan []byte\n```\n\n## React Component\n\n```tsx\nfunction Terminal({ onReady }: Props) {\n  const termRef = useRef\u003cXTerm\u003e()\n  const fitAddon = useRef\u003cFitAddon\u003e()\n  \n  useEffect(() =\u003e {\n    // Initialize xterm\n    // Connect to backend PTY\n    // Set up resize observer\n  }, [])\n  \n  return \u003cdiv ref={containerRef} className=\"terminal-container\" /\u003e\n}\n```\n\n## Key Considerations\n\n1. Handle terminal resize properly (debounce)\n2. Support multiple terminals (tabs)\n3. Clean up PTY on component unmount\n4. Handle shell detection (bash/zsh/powershell)\n5. Preserve scrollback buffer\n\n## Acceptance Criteria\n\n- [ ] Terminal renders and accepts input\n- [ ] Output from shell displays correctly\n- [ ] Resize works smoothly\n- [ ] ANSI colors render correctly\n- [ ] Links are clickable\n- [ ] Ctrl+C and other signals work","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T21:09:54.4111548-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:58:57.1439484-08:00","closed_at":"2026-01-16T23:58:57.1439484-08:00","close_reason":"Implemented terminal integration with PTYManager (Go backend) and Terminal component (React/xterm.js). Features: cross-platform shell detection, stdin/stdout piping, Wails event streaming, resize support. Added xterm.js dependencies and created Terminal.tsx component.","dependencies":[{"issue_id":"BRUTUS-p7p","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:10:14.8523806-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-q2n","title":"runInferenceLoop errors not surfaced to UI","description":"**File**: gui_agent.go lines 115-225, app.go lines 156-173\n\n**Problem**: ChatStream failures, stream read errors, and silent hangs not properly surfaced. Errors only become chat messages, not system notifications.\n\n**Fix**: Add timeout, emit agent:error event, add health check before inference.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T23:09:01.3397887-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:35:58.0506279-08:00","closed_at":"2026-01-16T23:35:58.0506279-08:00","close_reason":"Closed"}
{"id":"BRUTUS-r76","title":"Document Saturn capability taxonomy standard","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-16T23:02:03.4102523-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:05:35.2843074-08:00","closed_at":"2026-01-17T00:05:35.2843074-08:00","close_reason":"Created comprehensive docs/saturn_capability_taxonomy.md documenting SaturnService structure, TXT record keys, feature taxonomy, discovery filters, selection algorithm, and usage examples"}
{"id":"BRUTUS-r8a","title":"Define saturn-beacon.yaml configuration standard","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-16T23:02:09.9326012-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:14:20.6279661-08:00","closed_at":"2026-01-17T00:14:20.6279661-08:00","close_reason":"Created comprehensive saturn-beacon.yaml specification in docs/saturn-beacon-spec.md. Defines: full schema with minimal and complete examples, TXT record mapping, validation rules, feature taxonomy, and implementation notes for beacon/client developers."}
{"id":"BRUTUS-rrf","title":"AgentSession struct missing Saturn service info","description":"**File**: app.go lines 19-25\n\n**Problem**: AgentSession sent to frontend lacks Saturn connection details (serviceName, serviceHost, actualModel, connected).\n\n**Requires**: GUIAgent must expose provider info first.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:08:48.0492292-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:46:40.5991924-08:00","closed_at":"2026-01-16T23:46:40.5991924-08:00","close_reason":"Added ServiceName, ServiceHost, Connected fields to AgentSession struct and populated them from GUIAgent.GetServiceInfo()","dependencies":[{"issue_id":"BRUTUS-rrf","depends_on_id":"BRUTUS-dcs","type":"blocks","created_at":"2026-01-16T23:09:20.3576597-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-so8","title":"Implement Read Tool with Tracking","description":"Implement read tool that tracks what files have been read.\n\n## Research Files\n- research/opencode-file/FILE-SUBSYSTEM-SPEC.md\n- research/opencode-edit-tool/BRUTUS-EDIT-IMPLEMENTATION-SPEC.md (see Read Time Tracking)\n\n## Implementation\nCreate: tools/read.go\n\n## Features\n1. Read file contents\n2. Track read timestamps per session\n3. Binary file detection\n4. Line range support (offset, limit)\n5. Output truncation for large files\n\n## Read Tracking\n```go\nvar readTimes = struct {\n    sync.RWMutex\n    times map[string]time.Time  // filepath -\u003e last read time\n}{times: make(map[string]time.Time)}\n\nfunc RecordRead(path string) {\n    readTimes.Lock()\n    defer readTimes.Unlock()\n    readTimes.times[path] = time.Now()\n}\n\nfunc WasRead(path string) bool {\n    readTimes.RLock()\n    defer readTimes.RUnlock()\n    _, ok := readTimes.times[path]\n    return ok\n}\n```\n\n## Integration with Edit\nEdit tool should call WasRead() before allowing edits.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:31:18.0314756-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:31:18.0314756-08:00","dependencies":[{"issue_id":"BRUTUS-so8","depends_on_id":"BRUTUS-adh","type":"blocks","created_at":"2026-01-17T22:31:36.2288087-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-so8","depends_on_id":"BRUTUS-9rr","type":"blocks","created_at":"2026-01-17T22:31:39.9370552-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-tzz","title":"Start coordinator in GUIAgent for zeroconf discovery","description":"## Problem\nIn gui_agent.go:79, the coordinator is created:\n```go\ncoord := coordinator.NewCoordinator(id)\n```\n\nBut `coord.Start(ctx, port)` is NEVER called. This means:\n- No zeroconf mDNS registration happens\n- Other BRUTUS instances can't discover this agent\n- The coordinator is essentially dead code\n\n## Expected Behavior\nWhen a GUIAgent is created, it should:\n1. Call `coordinator.Start()` with a unique port\n2. Register itself on the network via zeroconf\n3. Be discoverable by other agents using `observe_agents` with `use_txt=true`\n\n## Files\n- gui_agent.go: Add `coord.Start()` call in `NewGUIAgent`\n- gui_agent.go: Add `coord.Stop()` call in `Stop()` method\n\n## Acceptance Criteria\n- [ ] `coordinator.Start()` called when GUIAgent created\n- [ ] `coordinator.Stop()` called when agent stopped\n- [ ] Agent discoverable via `dns-sd -B _brutus-agent._tcp local.`","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T23:24:37.029074-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:37:40.9016836-08:00","closed_at":"2026-01-16T23:37:40.9016836-08:00","close_reason":"Closed"}
{"id":"BRUTUS-u8z","title":"Saturn Core - Audit \u0026 Polish","description":"Audit and polish the Saturn integration - this is the crown jewel of BRUTUS.\n\n## What to Audit\n- provider/saturn.go - Core Saturn communication\n- provider/discovery.go - Find Saturn on network\n- provider/discovery_zeroconf.go - mDNS discovery\n- provider/saturn_pool.go - Multi-instance management\n- coordinator/coordinator.go - Multi-agent orchestration\n\n## Research Reference\n- research/opencode-provider/ - Provider patterns (for comparison, not copying)\n- Saturn is CUSTOM - we're not cloning OpenCode's provider system\n\n## Goal\nDocument what works, what needs polish, what's the API surface for the new agent core.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-17T22:28:32.5681552-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:28:32.5681552-08:00","dependencies":[{"issue_id":"BRUTUS-u8z","depends_on_id":"BRUTUS-wuh","type":"blocks","created_at":"2026-01-17T22:28:48.4166341-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-vsl","title":"Implement List Files Tool","description":"Implement file listing tool with tree view.\n\n## Research Files\n- research/opencode-file/FILE-SUBSYSTEM-SPEC.md\n- research/opencode-file/RIPGREP-INTEGRATION-SPEC.md (see Tree Generation)\n\n## Implementation\nCreate: tools/list.go\n\n## Features\n1. List files in directory\n2. Recursive option\n3. Tree view formatting\n4. Respect .gitignore\n5. Truncation for large directories\n\n## Tree Format\n```\nsrc/\n├── main.go\n├── agent/\n│   ├── loop.go\n│   └── doom.go\n└── tools/\n    ├── edit.go\n    └── read.go\n```","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T22:31:25.5327491-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:31:25.5327491-08:00","dependencies":[{"issue_id":"BRUTUS-vsl","depends_on_id":"BRUTUS-adh","type":"blocks","created_at":"2026-01-17T22:31:37.0484826-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-vsl","depends_on_id":"BRUTUS-9rr","type":"blocks","created_at":"2026-01-17T22:31:40.7766297-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-wuh","title":"BRUTUS v2 Rebuild - Saturn-First Architecture","description":"Master epic for rebuilding BRUTUS from scratch using OpenCode research findings. BRUTUS exists to showcase Saturn - the research provides infrastructure to make a good agent, but Saturn is the star.\n\n## Vision\n- Saturn-first architecture: discovery, multi-instance, model selection\n- Research-backed agent: proper loop, fuzzy edit, compaction\n- Demo-ready: CLI and GUI that show Saturn's capabilities\n\n## Research Base\nAll research files in research/ directory, organized by subsystem.\n\n## Phases\n1. Saturn Core - Audit and polish (keep the crown jewels)\n2. Agent Core - Rebuild with research patterns\n3. Tools - Fuzzy edit, truncation, permissions\n4. Demo \u0026 Polish - CLI/GUI showcasing Saturn","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-17T22:27:57.7374014-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:28:08.95401-08:00"}
{"id":"BRUTUS-xy4","title":"Implement Doom Loop Detection","description":"Detect and break infinite tool loops.\n\n## Research Files\n- research/opencode-agent-loop/AGENT-LOOP-SPEC.md (see Doom Loop section)\n- research/opencode-agent-loop/BRUTUS-IMPLEMENTATION-SPEC.md\n\n## Implementation\nCreate: agent/doom.go\n\n## Algorithm\n```go\ntype DoomTracker struct {\n    history []string  // Last N tool calls as 'name:hash(input)'\n}\n\nfunc (d *DoomTracker) Check(name string, input json.RawMessage) bool {\n    key := name + \":\" + hash(input)\n    // If same key appears 3x consecutively, return true\n    // This indicates a doom loop\n}\n```\n\n## Behavior When Detected\n1. Don't automatically run the tool\n2. Ask user: 'The agent is repeating the same action. Continue?'\n3. Let user decide to continue, abort, or provide guidance\n\n## Why This Matters\nLLMs sometimes get stuck in loops. This prevents runaway agents.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T22:30:16.8273637-08:00","created_by":"jperrello","updated_at":"2026-01-17T22:30:16.8273637-08:00","dependencies":[{"issue_id":"BRUTUS-xy4","depends_on_id":"BRUTUS-bgi","type":"blocks","created_at":"2026-01-17T22:30:34.3661864-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-zc6","title":"Add background cache refresh before TTL expiry","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:01:50.2508585-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:53:41.6545822-08:00","closed_at":"2026-01-16T23:53:41.6545822-08:00","close_reason":"Implemented background cache refresh with StartBackgroundRefresh/StopBackgroundRefresh methods. Cache proactively refreshes entries at 80% TTL expiry. Added tests."}
{"id":"BRUTUS-zvs","title":"GUI Vision Interview: Define the Soul of BRUTUS GUI","description":"# GUI Vision Interview\n\nBefore any code is written, we must understand the vision. This interview establishes the foundational design decisions that will guide all GUI development.\n\n## Context\n\nThis is the **first and most critical** step in GUI development. All subsequent issues are blocked by this one. The answers here will be recorded in docs/gui_manifesto.md.\n\n## The Interview (15 Questions)\n\n### Part 1: Identity \u0026 Audience\n\n**Q1: Who is BRUTUS for?**\nDescribe the ideal user. Not just programmers but what kind? Experience level? Values? Frustrations?\n\n**Q2: What is the relationship between the user and BRUTUS?**\nTool you wield? Assistant that serves? Collaborator? Mentor? Something else?\n\n**Q3: If BRUTUS were a person, how would you describe their personality?**\nAdjectives, archetypes, or fictional character comparison.\n\n### Part 2: Aesthetic \u0026 Feel\n\n**Q4: If BRUTUS GUI were one of the four seasons, which would it be and why?**\nWinter = minimal, stark. Summer = vibrant. Autumn = warm, mature. Spring = fresh.\n\n**Q5: Name 1-3 applications whose interface you deeply respect.**\nAny domain. What about their interface resonates?\n\n**Q6: What existing coding tool interface would you improve upon?**\nWhats close but not right? What would you steal and fix?\n\n### Part 3: Workflow \u0026 Priorities\n\n**Q7: Describe your ideal 30-minute session with BRUTUS GUI.**\nWalk through it. Screen layout? Interactions? Autonomous vs manual?\n\n**Q8: When should BRUTUS stop and ask vs. just do?**\nDraw the line. Approval thresholds? Interruption tolerance?\n\n**Q9: Whats most important to see at a glance?**\nOnly 3 pieces of always-visible information. What are they?\n\n### Part 4: Philosophy \u0026 Values\n\n**Q10: A good GUI should feel like ___.**\nOne phrase capturing the essence.\n\n**Q11: What trade-off are you willing to make?**\nPower vs simplicity? Density vs minimalism? Features vs focus?\n\n**Q12: What would make you choose the GUI over the CLI?**\nWhat does GUI offer that justifies switching?\n\n### Part 5: Anti-patterns \u0026 Fears\n\n**Q13: What GUI behavior would make you immediately close it?**\nYour deal-breakers.\n\n**Q14: What feature should we explicitly NOT build?**\nWhat trendy thing do you actively not want?\n\n**Q15: How do you want to feel when using BRUTUS GUI?**\nIn control? Powerful? Relaxed? Focused? Curious?\n\n## Deliverables\n\nAfter interview completion:\n1. Update docs/gui_manifesto.md with responses\n2. Synthesize into design principles\n3. Create priority matrix\n4. Unblock dependent issues","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-15T21:07:52.6119932-08:00","created_by":"jperrello","updated_at":"2026-01-15T21:48:15.3399212-08:00","closed_at":"2026-01-15T21:48:15.3399212-08:00","close_reason":"Interview completed. Vision: Command center for multi-agent agentic coding. Key principles documented in docs/gui_manifesto.md"}
