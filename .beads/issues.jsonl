{"id":"BRUTUS-030","title":"Architecture Decision: Wails vs Electron vs Tauri","description":"Evaluate and decide on the GUI framework based on interview insights and technical requirements.\n\n## Decision Criteria\n\n1. **Binary Size**: Wails (~4MB) vs Tauri (~2.5MB) vs Electron (~85MB)\n2. **Go Integration**: Wails is native Go, others require bridges\n3. **Ecosystem Maturity**: Electron \u003e Tauri \u003e Wails\n4. **Performance**: Native rendering (Wails/Tauri) vs Chromium (Electron)\n5. **Developer Experience**: Tooling, debugging, hot reload\n\n## Research Done\n\n- Wails: Go backend with auto-generated TS bindings, native rendering\n- Tauri: Rust core, smallest binary, security-focused\n- Electron: Most mature, largest ecosystem, but bloated\n\n## Recommendation\n\n**Wails v2** is the recommended choice because:\n- BRUTUS is Go - no language boundary\n- Single binary distribution\n- Native rendering (no embedded Chromium)\n- Active development with good docs\n\n## Deliverables\n\n1. Prototype hello world in chosen framework\n2. Verify PTY integration works\n3. Document decision rationale\n4. Update manifesto with final choice\n\n## Acceptance Criteria\n\n- [ ] Framework chosen with documented rationale\n- [ ] Hello world prototype running\n- [ ] PTY spawn test successful\n- [ ] Manifesto updated","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T21:09:12.5007498-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:11:24.8189847-08:00","closed_at":"2026-01-15T22:11:24.8189847-08:00","close_reason":"Wails v2 chosen. Prototype built: 11MB GUI binary, 12MB CLI. React+TypeScript frontend working.","dependencies":[{"issue_id":"BRUTUS-030","depends_on_id":"BRUTUS-zvs","type":"blocks","created_at":"2026-01-15T21:09:18.7353129-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-0i9","title":"Context Management: File Browser with Token Tracking","description":"Implement context management UI showing files in context and token usage.\n\nCore Features:\n- File tree showing project structure\n- Checkboxes to add/remove files from context\n- Token count per file and total\n- Context usage bar (45K/200K tokens)\n- Warning when approaching context limit\n\nFile Tree:\n- Expandable directory structure\n- Icons for file types\n- Indicator for files currently in context\n- Quick add/remove via checkbox\n- Drag and drop to reorder priority\n\nToken Tracking:\n- Real-time token count display\n- Per-file breakdown available on hover\n- Visual progress bar for context usage\n- Warning threshold at 80%\n- Alert before compaction happens\n\nSmart Context:\n- Recently edited files highlighted\n- Auto-suggest files based on conversation\n- Save context profiles for different tasks\n- Clear context with one click\n\nAcceptance Criteria:\n- File tree renders project structure\n- Can add/remove files from context\n- Token count updates in real-time\n- Warning shown at 80% context\n- Context state persists across refreshes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:15.6511469-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:09.1753975-08:00","closed_at":"2026-01-17T00:19:09.1753975-08:00","close_reason":"Deferred to backlog. MVP complete without context management UI - can be added in future session.","dependencies":[{"issue_id":"BRUTUS-0i9","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:11:27.7997074-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-0w5","title":"MVP Integration: First Working End-to-End GUI","description":"Integrate all Phase 1 and 2 components into a working MVP.\n\nMVP Definition:\nA user can open BRUTUS GUI, have a conversation with the agent, see streaming output, approve tool executions, and review code changes.\n\nRequired Components:\n1. Terminal integration (BRUTUS-p7p)\n2. Agent connection (BRUTUS-5hq)\n3. Streaming output (BRUTUS-2mp)\n4. Approval workflow (BRUTUS-67q)\n5. Diff visualization (BRUTUS-oed)\n6. Chat panel (BRUTUS-oz6)\n\nIntegration Tasks:\n- Wire all components together\n- Handle edge cases and errors\n- Performance optimization\n- Memory leak prevention\n- Basic error boundaries\n\nQuality Gates:\n- No crashes on normal usage\n- Responsive under load\n- Memory stable over time\n- All core workflows functional\n\nTesting:\n- Manual end-to-end testing\n- Basic smoke tests\n- Performance profiling\n- Memory profiling\n\nAcceptance Criteria:\n- Can complete a real coding task\n- Tool approvals work correctly\n- Diff review functional\n- No memory leaks after 1 hour\n- Binary size under 10MB","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T21:12:21.3194949-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:28:03.0623167-08:00","closed_at":"2026-01-15T22:28:03.0623167-08:00","close_reason":"MVP complete: streaming output, tool approval workflow, diff visualization, chat panel, and agent connection all implemented and integrated. App builds successfully.","dependencies":[{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:12:29.4007118-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-2mp","type":"blocks","created_at":"2026-01-15T21:12:29.5759889-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-67q","type":"blocks","created_at":"2026-01-15T21:12:29.7534344-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-oed","type":"blocks","created_at":"2026-01-15T21:12:29.9371429-08:00","created_by":"unknown"},{"issue_id":"BRUTUS-0w5","depends_on_id":"BRUTUS-oz6","type":"blocks","created_at":"2026-01-15T21:12:30.1189259-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-1nt","title":"Frontend Agent interface missing service display fields","description":"**File**: frontend/src/App.tsx lines 7-13, 241-246\n\n**Problem**: Agent interface and AgentPanel header do not display Saturn service info.\n\n**Blocked by**: Backend AgentSession and GUIAgent issues.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:09:08.0157077-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:02:56.5556001-08:00","closed_at":"2026-01-17T00:02:56.5556001-08:00","close_reason":"Added serviceName, serviceHost, connected fields to frontend Agent interface and created Saturn service display with connection indicator in AgentPanel header","dependencies":[{"issue_id":"BRUTUS-1nt","depends_on_id":"BRUTUS-rrf","type":"blocks","created_at":"2026-01-16T23:09:26.9658539-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-1zl","title":"Hide CMD windows in LegacyDiscoverer dns-sd exec calls","description":"**File**: provider/discovery_legacy.go lines 55-58 and 116-119\n\n**Problem**: exec.CommandContext spawns visible CMD windows on Windows when running dns-sd commands.\n\n**Fix**: Add SysProcAttr{HideWindow: true} to both cmd instances. Requires build tag or GOOS check.\n\n**Affects**: discoverSaturnDNSSD (line 55) and resolveInstance (line 116)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-16T23:08:34.712961-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:40:52.9008609-08:00","closed_at":"2026-01-16T23:40:52.9008609-08:00","close_reason":"Closed"}
{"id":"BRUTUS-2mp","title":"Streaming Output: Token-by-Token Display with Stop Button","description":"Implement streaming LLM output display with buffered rendering and user interrupt capability.\n\nKey Features:\n- Token-by-token display (10-20x perceived speed improvement)\n- Buffered rendering using RAF to batch updates\n- Stop button that cancels generation\n- Auto-scroll with user scroll detection\n- Syntax highlighting for code blocks\n\nTechnical Approach:\n- Use requestAnimationFrame for batching token writes\n- 50ms throttle for high-frequency updates\n- Detect when user scrolls away, pause auto-scroll\n- Resume auto-scroll when user returns to bottom\n\nReferences:\n- stream-monaco library patterns\n- Chrome best practices for LLM streaming\n- CopilotKit streaming implementation\n\nAcceptance Criteria:\n- First token appears within TTFT\n- Smooth scrolling during output\n- Stop button immediately halts generation\n- Code blocks render with syntax highlighting\n- No jank or dropped frames during fast streaming","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:10:34.8920844-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:27:04.0466345-08:00","closed_at":"2026-01-15T22:27:04.0466345-08:00","close_reason":"Implemented streaming output with token-by-token display. Added ChatStream method to provider, GUIAgent emits agent:stream events, frontend displays streaming content with blinking cursor.","dependencies":[{"issue_id":"BRUTUS-2mp","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:10:49.2883315-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-5h5","title":"Load-aware service selection using CurrentLoad/MaxConcurrent","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:01:56.8264633-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:55:27.573531-08:00","closed_at":"2026-01-16T23:55:27.573531-08:00","close_reason":"Implemented load-aware service selection. Added AvailableCapacity(), LoadFraction(), SelectBestService() and serviceScore(). NewSaturn now selects services based on load, priority, and health status. Added comprehensive tests."}
{"id":"BRUTUS-5hq","title":"BRUTUS Agent Connection: Wire GUI to Agent Loop","description":"Connect the GUI to the existing BRUTUS agent loop, enabling chat interaction.\n\n## Integration Points\n\nThe GUI needs to interface with:\n1. agent/agent.go - The main inference loop\n2. provider/saturn.go - Saturn model discovery\n3. tools/*.go - Tool registry and execution\n\n## Architecture\n\n\\\n## Streaming Pattern\n\nEmit events for each token/chunk:\n\\\n## Message Types\n\n\\{ is a shell keyword\n## Acceptance Criteria\n\n- [ ] Can send message and receive streaming response\n- [ ] Tool calls visible in UI\n- [ ] Cancel button stops generation\n- [ ] Error states handled gracefully\n- [ ] Message history preserved","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:10:15.0947836-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:15:12.3528279-08:00","closed_at":"2026-01-15T22:15:12.3528279-08:00","close_reason":"GUI wired to agent loop. GUIAgent bridge created. Tool calls emit events to frontend. Stop button added.","dependencies":[{"issue_id":"BRUTUS-5hq","depends_on_id":"BRUTUS-p7p","type":"blocks","created_at":"2026-01-15T21:10:21.9875627-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-67q","title":"Human-in-the-Loop: Tool Approval Workflow","description":"Implement the approval system for tool execution with trust tiers.\n\nTrust Tiers:\n1. AUTO-APPROVE: read_file, list_dir, search (non-destructive)\n2. CONFIRM-ONCE: write_file, edit (first occurrence)\n3. SESSION-TRUST: Approved patterns remain approved\n4. ALWAYS-CONFIRM: rm, sudo, destructive operations\n\nUI Components:\n- Approval bar that slides in when tool needs approval\n- Shows tool name, arguments, and impact description\n- Buttons: Allow Once, Allow Session, Allow Pattern, Deny\n- Keyboard shortcuts for quick approval (y/n)\n\nUser Preferences:\n- Configurable trust levels per tool\n- Whitelist/blacklist patterns\n- Session memory for approved commands\n\nAnti-patterns to Avoid:\n- Too many confirmations (approval fatigue)\n- Inconsistent behavior (same command sometimes asks)\n- No context shown (just approve workflow?)\n\nReferences:\n- CopilotKit useHumanInTheLoop hook\n- Open WebUI approval patterns\n- LangGraph interrupt patterns\n\nAcceptance Criteria:\n- Read operations auto-approve silently\n- Write operations show approval UI\n- Approved patterns dont ask again in session\n- Keyboard shortcuts work (y/n/a)\n- Settings allow customizing trust levels","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:10:49.5317237-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:27:07.3732018-08:00","closed_at":"2026-01-15T22:27:07.3732018-08:00","close_reason":"Implemented tool approval workflow with trust tiers. Auto-approve for read operations, modal dialog for write/edit/bash. Keyboard shortcuts y/n for quick approval.","dependencies":[{"issue_id":"BRUTUS-67q","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:11:03.0243809-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-a22","title":"Settings \u0026 Preferences: User Configuration Panel","description":"Implement settings panel for user preferences.\n\nSettings Categories:\n\n1. Appearance\n- Theme (dark/light/system)\n- Font family and size\n- Terminal color scheme\n- UI density (compact/comfortable)\n\n2. Behavior\n- Default trust levels per tool\n- Auto-approve patterns\n- Confirmation preferences\n- Auto-scroll behavior\n\n3. Keybindings\n- Customizable shortcuts\n- Vim mode option\n- Quick action mappings\n\n4. Agent\n- Default model selection\n- Temperature/sampling\n- System prompt overrides\n- Tool restrictions\n\n5. Advanced\n- Context window size\n- Auto-save interval\n- Log level\n- Experimental features\n\nStorage:\n- User preferences in config file\n- Project-level overrides\n- Environment variable support\n\nAcceptance Criteria:\n- Settings panel accessible from menu\n- Changes apply immediately\n- Settings persist across restarts\n- Reset to defaults option\n- Import/export settings","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:39.8970735-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:13:05.7138758-08:00","closed_at":"2026-01-17T00:13:05.7138758-08:00","close_reason":"Implemented settings panel with Appearance (theme, font size, UI density), Behavior (auto-scroll, confirm stop, show results), Agent (default model, auto-approve read tools), and Shortcuts reference tabs. Settings persist to localStorage.","dependencies":[{"issue_id":"BRUTUS-a22","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:11:53.4767918-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-aph","title":"Session History: Save, Resume, and Browse Past Sessions","description":"Implement session persistence for resuming work and browsing history.\n\nCore Features:\n- Auto-save session state periodically\n- Session list in sidebar with timestamps\n- Resume any previous session\n- Search/filter past sessions\n- Export session as markdown\n\nSession State Includes:\n- Full conversation history\n- Context files at time of session\n- Pending changes (uncommitted diffs)\n- Agent state and tool approvals\n- Window layout preferences\n\nStorage:\n- SQLite database for sessions\n- JSON export option\n- Optional git-backed persistence\n\nSession Management:\n- New Session button\n- Rename sessions\n- Delete old sessions\n- Session tags/labels\n- Sort by date, duration, activity\n\nResume Behavior:\n- Reload context files\n- Show session summary\n- Option to continue or start fresh\n- Warn if files changed since session\n\nAcceptance Criteria:\n- Sessions auto-save every 60 seconds\n- Can browse and resume past sessions\n- Session state fully restored on resume\n- Search finds sessions by content\n- Export produces readable markdown","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:28.05643-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:10.7565892-08:00","closed_at":"2026-01-17T00:19:10.7565892-08:00","close_reason":"Deferred to backlog. MVP complete without session history - can be added in future session.","dependencies":[{"issue_id":"BRUTUS-aph","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:11:39.6539643-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-dby","title":"Frontend silently swallows SendMessage errors","description":"**File**: frontend/src/App.tsx lines 352-354\n\n**Problem**: SendMessage returns Promise but frontend ignores it. User has no idea if send failed.\n\n**Impact**: This is likely why user sees no response - errors silently dropped.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T23:08:41.4083779-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:34:55.832519-08:00","closed_at":"2026-01-16T23:34:55.832519-08:00","close_reason":"Closed"}
{"id":"BRUTUS-dcs","title":"GUIAgent does not expose Saturn provider info","description":"**File**: gui_agent.go lines 38-51\n\n**Problem**: GUIAgent.provider is private with no getter. App cannot retrieve Saturn service details.\n\n**Fix**: Add GetServiceInfo() method. Also requires Saturn.GetService() in provider/saturn.go.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:08:54.7132699-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:41:40.1456999-08:00","closed_at":"2026-01-16T23:41:40.1456999-08:00","close_reason":"Closed"}
{"id":"BRUTUS-dfb","title":"Agents should auto-broadcast status during inference","description":"## Problem\nCurrently agents only update status via the coordinator's in-memory state. For cross-instance visibility, agents need to use the `agent_broadcast` tool to write status files that other agents can observe.\n\n## Current Behavior\n- `runInferenceLoop()` calls `coordinator.UpdateStatus()`\n- This only updates local memory\n- Other instances can't see this status\n\n## Options\n1. **Auto-broadcast on status change**: When status changes, also call BroadcastTool\n2. **Periodic broadcast**: Background goroutine broadcasts status every N seconds\n3. **Rely on tools**: Trust LLM to use broadcast tool (current approach)\n\n## Consideration\nIf coordinator.Start() is called (BRUTUS-tzz), zeroconf TXT records will automatically broadcast status. This issue may be resolved by that fix.\n\n## Dependencies\n- Depends on BRUTUS-tzz (coordinator start)\n\n## Acceptance Criteria\n- [ ] Agent status visible to other instances without explicit tool use\n- [ ] Status updates within 2 seconds of change","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:24:59.5824628-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:04:17.3369232-08:00","closed_at":"2026-01-17T00:04:17.3369232-08:00","close_reason":"Added updateStatusWithBroadcast method that updates coordinator status and writes file-based broadcast simultaneously. Status files now written to temp/brutus-agents/ on every status change.","dependencies":[{"issue_id":"BRUTUS-dfb","depends_on_id":"BRUTUS-tzz","type":"blocks","created_at":"2026-01-16T23:25:07.423099-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-dfn","title":"BRUTUS GUI: Desktop Application","description":"Epic for implementing the BRUTUS graphical user interface.\n\n## Vision\nA lightweight, Go-native desktop GUI that wraps the BRUTUS agent with a clean, focused interface for coding assistance.\n\n## Key Issues\n- BRUTUS-zvs: Interview (P0)\n- BRUTUS-030: Architecture Decision\n- BRUTUS-jfo: Project Scaffolding\n- BRUTUS-p7p: Terminal Integration\n- BRUTUS-5hq: Agent Connection\n- BRUTUS-oz6: Chat Panel\n- BRUTUS-2mp: Streaming Output\n- BRUTUS-67q: Approval Workflow\n- BRUTUS-oed: Diff Visualization\n- BRUTUS-0i9: Context Management\n- BRUTUS-aph: Session History\n- BRUTUS-a22: Settings\n- BRUTUS-igl: Keyboard Shortcuts\n- BRUTUS-0w5: MVP Integration\n\n## Success Metrics\n- Binary under 10MB\n- First token under 500ms\n- No memory leaks over 1 hour session","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-15T21:12:51.6196521-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:28.8885171-08:00","closed_at":"2026-01-17T00:19:28.8885171-08:00","close_reason":"MVP complete. GUI desktop application working with Wails+React. Core features done: chat panel, streaming output, tool approval, diff visualization, terminal integration, settings, keyboard shortcuts. P2 context management and session history deferred to backlog."}
{"id":"BRUTUS-gbr","title":"Implement SaturnPool with round-robin failover","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:01:43.676834-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:45:40.2408577-08:00","closed_at":"2026-01-16T23:45:40.2408577-08:00","close_reason":"Implemented SaturnPool in provider/saturn_pool.go with round-robin selection and automatic failover across all discovered services"}
{"id":"BRUTUS-gkb","title":"LaunchMultiAgentDemo should send initial task prompts","description":"## Problem\n`LaunchMultiAgentDemo()` in app.go:213-235 creates three agents:\n- Editor-1\n- Editor-2\n- Observer\n\nBut it doesn't send them the initial task prompts specified in PROMPT.md Phase 4:\n- Agent 1: Edit mock1.txt, add greeting function\n- Agent 2: Edit mock2.txt, add farewell function\n- Agent 3: Use observe_agents, summarize activity\n\n## Current Code\n```go\nfunc (a *App) LaunchMultiAgentDemo() ([]string, error) {\n    id1, _ := a.NewNamedAgent(\"Editor-1\", \"\")\n    id2, _ := a.NewNamedAgent(\"Editor-2\", \"\")\n    id3, _ := a.NewNamedAgent(\"Observer\", \"\")\n    return ids, nil  // No messages sent!\n}\n```\n\n## Expected Behavior\nAfter creating agents, send them their initial tasks so the demo actually runs.\n\n## Files\n- app.go: Add SendMessage calls after agent creation\n\n## Acceptance Criteria\n- [ ] Editor-1 receives task to edit mock1.txt\n- [ ] Editor-2 receives task to edit mock2.txt\n- [ ] Observer receives task to use observe_agents\n- [ ] Demo runs end-to-end when button clicked","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-16T23:24:40.2137846-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:47:19.0084864-08:00","closed_at":"2026-01-16T23:47:19.0084864-08:00","close_reason":"Added initial task prompts to LaunchMultiAgentDemo: Editor-1 creates greeting in mock1.txt, Editor-2 creates farewell in mock2.txt, Observer uses observe_agents tool","dependencies":[{"issue_id":"BRUTUS-gkb","depends_on_id":"BRUTUS-tzz","type":"blocks","created_at":"2026-01-16T23:25:08.7758043-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-gtp","title":"Multi-Agent GUI Integration (Ralph Loop 2)","description":"Epic for completing PROMPT.md - integrating the multi-agent SDK infrastructure into the BRUTUS desktop GUI.\n\n## Background\nRalph Loop 1 built the SDK infrastructure:\n- coordinator/coordinator.go - zeroconf-based agent discovery\n- tools/broadcast.go - BroadcastTool + ObserveAgentsTool\n- sdk/multi_agent.go - mock-based testing harness\n- sdk/live_multi_agent.go - live LLM multi-agent harness\n\n## Problem\nThe SDK features exist but aren't wired up to the GUI. Key gaps:\n1. Coordinator created but never started (no network presence)\n2. Status bar only shows local agents\n3. Demo creates agents but doesn't send initial tasks\n4. No programmatic orchestration exposed to users\n\n## Goal\nUsers should be able to:\n- Spawn multiple agents in the GUI\n- See agents coordinate through shared files or network\n- Use observe_agents tool to see what other agents are doing\n- See a coordination status bar showing all agent states\n\n## Reference\nSee PROMPT.md for full requirements.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-16T23:24:15.5933481-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:30.4680227-08:00","closed_at":"2026-01-17T00:19:30.4680227-08:00","close_reason":"MVP complete. Multi-agent integration working: coordinator starts for zeroconf discovery, status bar discovers agents across instances, multi-agent demo sends initial tasks, agents auto-broadcast status. P3 SDK orchestration UI deferred to backlog.","comments":[{"id":1,"issue_id":"BRUTUS-gtp","author":"JOEYLAPTOP\\jperr","text":"Child Issues: BRUTUS-tzz (P1 blocking), BRUTUS-j89 (P2), BRUTUS-gkb (P2), BRUTUS-j2b (P3), BRUTUS-dfb (P3). Start with tzz - it unblocks everything.","created_at":"2026-01-17T07:25:40Z"}]}
{"id":"BRUTUS-igl","title":"Keyboard Shortcuts: Power User Navigation","description":"Implement comprehensive keyboard navigation.\n\nCore Shortcuts:\n- Cmd+K: Quick command palette\n- Cmd+Enter: Send message\n- Cmd+.: Cancel/stop generation\n- Cmd+N: New session\n- Cmd+O: Open project\n- Cmd+,: Settings\n\nNavigation:\n- Tab: Cycle between panels\n- Esc: Close modals/panels\n- Cmd+1/2/3: Switch panels\n- Cmd+Shift+E: Toggle file explorer\n- Cmd+Shift+H: Toggle history\n\nApproval:\n- Y: Approve current tool\n- N: Reject current tool\n- A: Approve all pending\n- S: Approve for session\n\nDiff Review:\n- J/K: Navigate hunks\n- Enter: Accept hunk\n- Backspace: Reject hunk\n- Space: Toggle hunk selection\n\nTerminal:\n- Ctrl+C: Send interrupt\n- Ctrl+L: Clear terminal\n- Ctrl+Shift+T: New terminal tab\n\nDesign Principles:\n- Never hijack existing shortcuts\n- Respect system conventions\n- Discoverable via command palette\n- Customizable\n\nAcceptance Criteria:\n- All shortcuts documented\n- Command palette shows available commands\n- Shortcuts customizable in settings\n- No conflicts with terminal input\n- Cheat sheet accessible via Cmd+?","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:11:53.7020452-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:13:05.5600468-08:00","closed_at":"2026-01-17T00:13:05.5600468-08:00","close_reason":"Implemented keyboard shortcuts system with: Ctrl+K command palette, Ctrl+, settings, Ctrl+N new agent, Ctrl+1/2/3 focus agents, Escape close modals, Y/N for approvals. All documented in settings panel.","dependencies":[{"issue_id":"BRUTUS-igl","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:12:08.2261609-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-j2b","title":"Expose SDK orchestration capabilities to GUI","description":"## Problem\nThe SDK has sophisticated multi-agent orchestration:\n- `MultiAgentHarness.RunConcurrent()` - run agents in parallel\n- `MultiAgentHarness.RunSequential()` - run agents in order\n- `LiveMultiAgentHarness.RunConcurrent()` - real LLM multi-agent\n- `RunScenario()` - load and execute JSON scenarios\n\nNone of this is exposed in the GUI. Users can only manually create agents and send messages one at a time.\n\n## Potential Features\n1. **Scenario Runner**: Load .json scenario files, run multi-agent tests\n2. **Orchestration Mode**: Define agent roles and tasks, run as batch\n3. **Concurrent Execution**: Send same task to multiple agents simultaneously\n\n## Files\n- app.go: Add methods to wrap SDK capabilities\n- frontend/src/App.tsx: Add UI for scenario loading/running\n\n## Acceptance Criteria\n- [ ] User can load a scenario JSON file\n- [ ] User can run scenario (concurrent or sequential)\n- [ ] Results shown in UI\n\n## Notes\nThis is a larger feature - may be post-MVP.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:24:58.1700531-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:19:12.3263526-08:00","closed_at":"2026-01-17T00:19:12.3263526-08:00","close_reason":"Deferred to backlog. SDK orchestration is post-MVP - can be added when multi-agent GUI needs expansion."}
{"id":"BRUTUS-j89","title":"Status bar should discover agents across instances","description":"## Problem\nThe coordination status bar in App.tsx only shows agents from the local `guiAgents` map (app.go:68-83). If you run multiple BRUTUS instances, they can't see each other's agents.\n\n## Current Behavior\n```go\nfunc (a *App) GetCoordinationStatuses() []CoordinationStatus {\n    // Only reads from local a.guiAgents map\n    for id, agent := range a.guiAgents {\n        // ...\n    }\n}\n```\n\n## Expected Behavior\nThe status bar should show:\n1. Local agents (current behavior)\n2. Remote agents discovered via zeroconf (new)\n\n## Implementation Options\n1. **Hybrid approach**: Merge local agents + discovered agents\n2. **Use coordinator.DiscoverAgents()**: Already implemented in coordinator.go:168\n\n## Files\n- app.go: Modify `GetCoordinationStatuses()` to include remote agents\n- coordinator/coordinator.go: May need shared coordinator instance\n\n## Acceptance Criteria\n- [ ] Status bar shows agents from other BRUTUS instances\n- [ ] Visual distinction between local vs remote agents\n- [ ] Discovery doesn't block UI (async)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:24:38.7059247-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:42:41.1112801-08:00","closed_at":"2026-01-16T23:42:41.1112801-08:00","close_reason":"Closed","dependencies":[{"issue_id":"BRUTUS-j89","depends_on_id":"BRUTUS-tzz","type":"blocks","created_at":"2026-01-16T23:25:06.0725809-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-jfo","title":"Project Scaffolding: Initialize Wails + React + TypeScript","description":"Set up the foundational project structure for BRUTUS GUI.\n\n## Structure\n\n```\nui/\n├── frontend/           # React + TypeScript\n│   ├── src/\n│   │   ├── components/\n│   │   ├── hooks/\n│   │   ├── stores/\n│   │   └── App.tsx\n│   ├── package.json\n│   └── vite.config.ts\n├── app.go              # Wails app struct with bindings\n├── main.go             # Entry point\n├── wails.json          # Wails config\n└── go.mod\n```\n\n## Tasks\n\n1. Run wails init with React-TS template\n2. Configure project structure\n3. Set up Tailwind CSS\n4. Install core dependencies (xterm.js, monaco-editor, zustand)\n5. Create basic component structure\n6. Verify dev mode works (wails dev)\n7. Verify build works (wails build)\n\n## Dependencies to Install\n\nFrontend:\n- @xterm/xterm, @xterm/addon-fit, @xterm/addon-web-links\n- @monaco-editor/react\n- zustand\n- tailwindcss, postcss, autoprefixer\n- framer-motion (optional, for animations)\n\n## Acceptance Criteria\n\n- [ ] wails dev runs successfully\n- [ ] wails build produces working binary\n- [ ] Tailwind CSS configured\n- [ ] Basic App component renders\n- [ ] Go backend callable from frontend","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T21:09:32.0877108-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:11:28.3883758-08:00","closed_at":"2026-01-15T22:11:28.3883758-08:00","close_reason":"Wails+React+TypeScript scaffolding complete. Command center UI with autumn theme implemented.","dependencies":[{"issue_id":"BRUTUS-jfo","depends_on_id":"BRUTUS-030","type":"blocks","created_at":"2026-01-15T21:09:54.1730351-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-oed","title":"Diff Visualization: Monaco Side-by-Side with Granular Accept/Reject","description":"Implement code diff visualization with granular hunk-level accept/reject.\n\nCore Features:\n- Monaco DiffEditor for side-by-side view\n- Individual accept/reject per change hunk\n- Copy from original (deleted red code)\n- Pending changes panel showing all diffs\n- Inline view option for narrow screens\n\nKey UX Improvements (from research):\n- Can copy deleted (red) code to clipboard\n- Accept one hunk, reject another independently\n- Changes are final on accept (not waiting for git commit)\n- Clear visual distinction between pending/accepted/rejected\n\nComponents:\n- DiffViewer: Wraps Monaco DiffEditor\n- DiffHunk: Individual change with accept/reject buttons\n- PendingChangesPanel: List of all pending file changes\n- DiffActions: Accept All, Reject All, Review Next\n\nIntegration:\n- Hook into agent tool_result for edit/write operations\n- Store pending changes in session state\n- Apply accepted changes to filesystem\n- Revert rejected changes\n\nAcceptance Criteria:\n- Side-by-side diff renders correctly\n- Can accept/reject individual hunks\n- Can copy from deleted (red) code\n- Pending changes tracked across multiple files\n- Keyboard navigation through changes","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:11:03.2850325-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:27:10.5800635-08:00","closed_at":"2026-01-15T22:27:10.5800635-08:00","close_reason":"Added Monaco DiffEditor component for code diff visualization. DiffModal component ready for integration with file edit events.","dependencies":[{"issue_id":"BRUTUS-oed","depends_on_id":"BRUTUS-5hq","type":"blocks","created_at":"2026-01-15T21:11:15.3960835-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-oz6","title":"Chat Panel: Message Input and History Display","description":"Implement the primary chat interface for user-agent interaction.\n\nComponents:\n\n1. Message List\n- Scrollable message history\n- User messages right-aligned\n- Assistant messages left-aligned\n- Tool call blocks with expand/collapse\n- Code blocks with syntax highlighting\n- Markdown rendering\n\n2. Input Area\n- Multi-line text input\n- Shift+Enter for newline\n- Enter or Cmd+Enter to send\n- File drop zone for attachments\n- Image paste support\n- Character/token count\n\n3. Message Actions\n- Copy message\n- Edit and resend\n- Delete message\n- Fork conversation from message\n\n4. Streaming State\n- Typing indicator during generation\n- Token count updating\n- Stop button prominent\n- Error state handling\n\n5. Tool Call Display\n- Collapsible tool invocations\n- Show tool name, args, result\n- Status indicator (pending/running/done)\n- Link to approval if needed\n\nStyling:\n- Clean, readable typography\n- Adequate spacing\n- Distinct visual for user vs assistant\n- Subtle animations for streaming\n\nAcceptance Criteria:\n- Messages display with correct formatting\n- Input supports multi-line editing\n- Streaming response shows progressively\n- Tool calls render with details\n- History scrollable and searchable","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T21:12:08.4504682-08:00","created_by":"jperrello","updated_at":"2026-01-15T22:11:53.3477305-08:00","closed_at":"2026-01-15T22:11:53.3477305-08:00","close_reason":"Chat panel with message input and history display implemented in App.tsx. AgentPanel component with messages array and input textarea.","dependencies":[{"issue_id":"BRUTUS-oz6","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:12:21.0786309-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-p7p","title":"Terminal Integration: xterm.js + Go PTY","description":"Implement the core terminal component that connects xterm.js in the frontend to a PTY in Go.\n\n## Architecture\n\n```\n┌─────────────────────────────────────────────┐\n│              GO BACKEND                      │\n│  ┌─────────────────────────────────────┐    │\n│  │ PTYManager                           │    │\n│  │  - Spawn(shell, cols, rows) -\u003e id   │    │\n│  │  - Write(id, data)                   │    │\n│  │  - Resize(id, cols, rows)            │    │\n│  │  - Kill(id)                          │    │\n│  └─────────────────────────────────────┘    │\n│              │                               │\n│    Wails Events: pty:data, pty:exit         │\n└─────────────────────────────────────────────┘\n                    │\n┌─────────────────────────────────────────────┐\n│             REACT FRONTEND                   │\n│  ┌─────────────────────────────────────┐    │\n│  │ \u003cTerminal /\u003e                         │    │\n│  │  - xterm.js instance                 │    │\n│  │  - FitAddon for resize               │    │\n│  │  - WebLinksAddon for URLs            │    │\n│  │  - ResizeObserver -\u003e backend resize  │    │\n│  └─────────────────────────────────────┘    │\n└─────────────────────────────────────────────┘\n```\n\n## Go Implementation\n\nUse creack/pty for PTY management:\n\n```go\nimport \"github.com/creack/pty\"\n\ntype PTYManager struct {\n    ptys map[string]*os.File\n    mu   sync.RWMutex\n}\n\nfunc (m *PTYManager) Spawn(shell string, cols, rows uint16) (string, error)\nfunc (m *PTYManager) Write(id string, data []byte) error\nfunc (m *PTYManager) Resize(id string, cols, rows uint16) error\nfunc (m *PTYManager) Read(id string) \u003c-chan []byte\n```\n\n## React Component\n\n```tsx\nfunction Terminal({ onReady }: Props) {\n  const termRef = useRef\u003cXTerm\u003e()\n  const fitAddon = useRef\u003cFitAddon\u003e()\n  \n  useEffect(() =\u003e {\n    // Initialize xterm\n    // Connect to backend PTY\n    // Set up resize observer\n  }, [])\n  \n  return \u003cdiv ref={containerRef} className=\"terminal-container\" /\u003e\n}\n```\n\n## Key Considerations\n\n1. Handle terminal resize properly (debounce)\n2. Support multiple terminals (tabs)\n3. Clean up PTY on component unmount\n4. Handle shell detection (bash/zsh/powershell)\n5. Preserve scrollback buffer\n\n## Acceptance Criteria\n\n- [ ] Terminal renders and accepts input\n- [ ] Output from shell displays correctly\n- [ ] Resize works smoothly\n- [ ] ANSI colors render correctly\n- [ ] Links are clickable\n- [ ] Ctrl+C and other signals work","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T21:09:54.4111548-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:58:57.1439484-08:00","closed_at":"2026-01-16T23:58:57.1439484-08:00","close_reason":"Implemented terminal integration with PTYManager (Go backend) and Terminal component (React/xterm.js). Features: cross-platform shell detection, stdin/stdout piping, Wails event streaming, resize support. Added xterm.js dependencies and created Terminal.tsx component.","dependencies":[{"issue_id":"BRUTUS-p7p","depends_on_id":"BRUTUS-jfo","type":"blocks","created_at":"2026-01-15T21:10:14.8523806-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-q2n","title":"runInferenceLoop errors not surfaced to UI","description":"**File**: gui_agent.go lines 115-225, app.go lines 156-173\n\n**Problem**: ChatStream failures, stream read errors, and silent hangs not properly surfaced. Errors only become chat messages, not system notifications.\n\n**Fix**: Add timeout, emit agent:error event, add health check before inference.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T23:09:01.3397887-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:35:58.0506279-08:00","closed_at":"2026-01-16T23:35:58.0506279-08:00","close_reason":"Closed"}
{"id":"BRUTUS-r76","title":"Document Saturn capability taxonomy standard","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-16T23:02:03.4102523-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:05:35.2843074-08:00","closed_at":"2026-01-17T00:05:35.2843074-08:00","close_reason":"Created comprehensive docs/saturn_capability_taxonomy.md documenting SaturnService structure, TXT record keys, feature taxonomy, discovery filters, selection algorithm, and usage examples"}
{"id":"BRUTUS-r8a","title":"Define saturn-beacon.yaml configuration standard","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-16T23:02:09.9326012-08:00","created_by":"jperrello","updated_at":"2026-01-17T00:14:20.6279661-08:00","closed_at":"2026-01-17T00:14:20.6279661-08:00","close_reason":"Created comprehensive saturn-beacon.yaml specification in docs/saturn-beacon-spec.md. Defines: full schema with minimal and complete examples, TXT record mapping, validation rules, feature taxonomy, and implementation notes for beacon/client developers."}
{"id":"BRUTUS-rrf","title":"AgentSession struct missing Saturn service info","description":"**File**: app.go lines 19-25\n\n**Problem**: AgentSession sent to frontend lacks Saturn connection details (serviceName, serviceHost, actualModel, connected).\n\n**Requires**: GUIAgent must expose provider info first.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T23:08:48.0492292-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:46:40.5991924-08:00","closed_at":"2026-01-16T23:46:40.5991924-08:00","close_reason":"Added ServiceName, ServiceHost, Connected fields to AgentSession struct and populated them from GUIAgent.GetServiceInfo()","dependencies":[{"issue_id":"BRUTUS-rrf","depends_on_id":"BRUTUS-dcs","type":"blocks","created_at":"2026-01-16T23:09:20.3576597-08:00","created_by":"unknown"}]}
{"id":"BRUTUS-tzz","title":"Start coordinator in GUIAgent for zeroconf discovery","description":"## Problem\nIn gui_agent.go:79, the coordinator is created:\n```go\ncoord := coordinator.NewCoordinator(id)\n```\n\nBut `coord.Start(ctx, port)` is NEVER called. This means:\n- No zeroconf mDNS registration happens\n- Other BRUTUS instances can't discover this agent\n- The coordinator is essentially dead code\n\n## Expected Behavior\nWhen a GUIAgent is created, it should:\n1. Call `coordinator.Start()` with a unique port\n2. Register itself on the network via zeroconf\n3. Be discoverable by other agents using `observe_agents` with `use_txt=true`\n\n## Files\n- gui_agent.go: Add `coord.Start()` call in `NewGUIAgent`\n- gui_agent.go: Add `coord.Stop()` call in `Stop()` method\n\n## Acceptance Criteria\n- [ ] `coordinator.Start()` called when GUIAgent created\n- [ ] `coordinator.Stop()` called when agent stopped\n- [ ] Agent discoverable via `dns-sd -B _brutus-agent._tcp local.`","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T23:24:37.029074-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:37:40.9016836-08:00","closed_at":"2026-01-16T23:37:40.9016836-08:00","close_reason":"Closed"}
{"id":"BRUTUS-zc6","title":"Add background cache refresh before TTL expiry","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T23:01:50.2508585-08:00","created_by":"jperrello","updated_at":"2026-01-16T23:53:41.6545822-08:00","closed_at":"2026-01-16T23:53:41.6545822-08:00","close_reason":"Implemented background cache refresh with StartBackgroundRefresh/StopBackgroundRefresh methods. Cache proactively refreshes entries at 80% TTL expiry. Added tests."}
{"id":"BRUTUS-zvs","title":"GUI Vision Interview: Define the Soul of BRUTUS GUI","description":"# GUI Vision Interview\n\nBefore any code is written, we must understand the vision. This interview establishes the foundational design decisions that will guide all GUI development.\n\n## Context\n\nThis is the **first and most critical** step in GUI development. All subsequent issues are blocked by this one. The answers here will be recorded in docs/gui_manifesto.md.\n\n## The Interview (15 Questions)\n\n### Part 1: Identity \u0026 Audience\n\n**Q1: Who is BRUTUS for?**\nDescribe the ideal user. Not just programmers but what kind? Experience level? Values? Frustrations?\n\n**Q2: What is the relationship between the user and BRUTUS?**\nTool you wield? Assistant that serves? Collaborator? Mentor? Something else?\n\n**Q3: If BRUTUS were a person, how would you describe their personality?**\nAdjectives, archetypes, or fictional character comparison.\n\n### Part 2: Aesthetic \u0026 Feel\n\n**Q4: If BRUTUS GUI were one of the four seasons, which would it be and why?**\nWinter = minimal, stark. Summer = vibrant. Autumn = warm, mature. Spring = fresh.\n\n**Q5: Name 1-3 applications whose interface you deeply respect.**\nAny domain. What about their interface resonates?\n\n**Q6: What existing coding tool interface would you improve upon?**\nWhats close but not right? What would you steal and fix?\n\n### Part 3: Workflow \u0026 Priorities\n\n**Q7: Describe your ideal 30-minute session with BRUTUS GUI.**\nWalk through it. Screen layout? Interactions? Autonomous vs manual?\n\n**Q8: When should BRUTUS stop and ask vs. just do?**\nDraw the line. Approval thresholds? Interruption tolerance?\n\n**Q9: Whats most important to see at a glance?**\nOnly 3 pieces of always-visible information. What are they?\n\n### Part 4: Philosophy \u0026 Values\n\n**Q10: A good GUI should feel like ___.**\nOne phrase capturing the essence.\n\n**Q11: What trade-off are you willing to make?**\nPower vs simplicity? Density vs minimalism? Features vs focus?\n\n**Q12: What would make you choose the GUI over the CLI?**\nWhat does GUI offer that justifies switching?\n\n### Part 5: Anti-patterns \u0026 Fears\n\n**Q13: What GUI behavior would make you immediately close it?**\nYour deal-breakers.\n\n**Q14: What feature should we explicitly NOT build?**\nWhat trendy thing do you actively not want?\n\n**Q15: How do you want to feel when using BRUTUS GUI?**\nIn control? Powerful? Relaxed? Focused? Curious?\n\n## Deliverables\n\nAfter interview completion:\n1. Update docs/gui_manifesto.md with responses\n2. Synthesize into design principles\n3. Create priority matrix\n4. Unblock dependent issues","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-15T21:07:52.6119932-08:00","created_by":"jperrello","updated_at":"2026-01-15T21:48:15.3399212-08:00","closed_at":"2026-01-15T21:48:15.3399212-08:00","close_reason":"Interview completed. Vision: Command center for multi-agent agentic coding. Key principles documented in docs/gui_manifesto.md"}
